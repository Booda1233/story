import{r as k,j as Ce}from"./react-DcLYiUWS.js";var kn={exports:{}},Nn={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go;function Cu(){return go||(go=1,function(t){function e(M,L){var U=M.length;M.push(L);e:for(;0<U;){var W=U-1>>>1,Z=M[W];if(0<o(Z,L))M[W]=L,M[U]=Z,U=W;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var L=M[0],U=M.pop();if(U!==L){M[0]=U;e:for(var W=0,Z=M.length,Ht=Z>>>1;W<Ht;){var Ot=2*(W+1)-1,Dn=M[Ot],Fe=Ot+1,Wt=M[Fe];if(0>o(Dn,U))Fe<Z&&0>o(Wt,Dn)?(M[W]=Wt,M[Fe]=U,W=Fe):(M[W]=Dn,M[Ot]=U,W=Ot);else if(Fe<Z&&0>o(Wt,U))M[W]=Wt,M[Fe]=U,W=Fe;else break e}}return L}function o(M,L){var U=M.sortIndex-L.sortIndex;return U!==0?U:M.id-L.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],c=[],d=1,h=null,p=3,m=!1,g=!1,y=!1,T=!1,v=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function E(M){for(var L=n(c);L!==null;){if(L.callback===null)i(c);else if(L.startTime<=M)i(c),L.sortIndex=L.expirationTime,e(f,L);else break;L=n(c)}}function _(M){if(y=!1,E(M),!g)if(n(f)!==null)g=!0,A||(A=!0,j());else{var L=n(c);L!==null&&re(_,L.startTime-M)}}var A=!1,R=-1,D=5,w=-1;function G(){return T?!0:!(t.unstable_now()-w<D)}function q(){if(T=!1,A){var M=t.unstable_now();w=M;var L=!0;try{e:{g=!1,y&&(y=!1,C(R),R=-1),m=!0;var U=p;try{t:{for(E(M),h=n(f);h!==null&&!(h.expirationTime>M&&G());){var W=h.callback;if(typeof W=="function"){h.callback=null,p=h.priorityLevel;var Z=W(h.expirationTime<=M);if(M=t.unstable_now(),typeof Z=="function"){h.callback=Z,E(M),L=!0;break t}h===n(f)&&i(f),E(M)}else i(f);h=n(f)}if(h!==null)L=!0;else{var Ht=n(c);Ht!==null&&re(_,Ht.startTime-M),L=!1}}break e}finally{h=null,p=U,m=!1}L=void 0}}finally{L?j():A=!1}}}var j;if(typeof S=="function")j=function(){S(q)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Le=Ve.port2;Ve.port1.onmessage=q,j=function(){Le.postMessage(null)}}else j=function(){v(q,0)};function re(M,L){R=v(function(){M(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var U=p;p=L;try{return M()}finally{p=U}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=p;p=M;try{return L()}finally{p=U}},t.unstable_scheduleCallback=function(M,L,U){var W=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,M){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=U+Z,M={id:d++,callback:L,priorityLevel:M,startTime:U,expirationTime:Z,sortIndex:-1},U>W?(M.sortIndex=U,e(c,M),n(f)===null&&M===n(c)&&(y?(C(R),R=-1):y=!0,re(_,U-W))):(M.sortIndex=Z,e(f,M),g||m||(g=!0,A||(A=!0,j()))),M},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(M){var L=p;return function(){var U=p;p=L;try{return M.apply(this,arguments)}finally{p=U}}}}(Nn)),Nn}var yo;function bE(){return yo||(yo=1,kn.exports=Cu()),kn.exports}var Tt={},vo;function _u(){if(vo)return Tt;vo=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.parse=l,Tt.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function l(p,m){const g=new a,y=p.length;if(y<2)return g;const T=(m==null?void 0:m.decode)||d;let v=0;do{const C=p.indexOf("=",v);if(C===-1)break;const S=p.indexOf(";",v),E=S===-1?y:S;if(C>E){v=p.lastIndexOf(";",C-1)+1;continue}const _=u(p,v,C),A=f(p,C,_),R=p.slice(_,A);if(g[R]===void 0){let D=u(p,C+1,E),w=f(p,E,D);const G=T(p.slice(D,w));g[R]=G}v=E+1}while(v<y);return g}function u(p,m,g){do{const y=p.charCodeAt(m);if(y!==32&&y!==9)return m}while(++m<g);return g}function f(p,m,g){for(;m>g;){const y=p.charCodeAt(--m);if(y!==32&&y!==9)return m+1}return g}function c(p,m,g){const y=(g==null?void 0:g.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const T=y(m);if(!e.test(T))throw new TypeError(`argument val is invalid: ${m}`);let v=p+"="+T;if(!g)return v;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);v+="; Max-Age="+g.maxAge}if(g.domain){if(!n.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);v+="; Domain="+g.domain}if(g.path){if(!i.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);v+="; Path="+g.path}if(g.expires){if(!h(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);v+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(v+="; HttpOnly"),g.secure&&(v+="; Secure"),g.partitioned&&(v+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return v}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return o.call(p)==="[object Date]"}return Tt}_u();const wi=k.createContext({});function Ri(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const _n=k.createContext(null),Di=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Su extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Eu({children:t,isPresent:e}){const n=k.useId(),i=k.useRef(null),o=k.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=k.useContext(Di);return k.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:c}=o.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${f}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),Ce.jsx(Su,{isPresent:e,childRef:i,sizeRef:o,children:k.cloneElement(t,{ref:i})})}const xu=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:l})=>{const u=Ri(Au),f=k.useId(),c=k.useCallback(h=>{u.set(h,!0);for(const p of u.values())if(!p)return;i&&i()},[u,i]),d=k.useMemo(()=>({id:f,initial:e,isPresent:n,custom:o,onExitComplete:c,register:h=>(u.set(h,!1),()=>u.delete(h))}),a?[Math.random(),c]:[n,c]);return k.useMemo(()=>{u.forEach((h,p)=>u.set(p,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),l==="popLayout"&&(t=Ce.jsx(Eu,{isPresent:n,children:t})),Ce.jsx(_n.Provider,{value:d,children:t})};function Au(){return new Map}function da(t=!0){const e=k.useContext(_n);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=k.useId();k.useEffect(()=>{t&&o(a)},[t]);const l=k.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}const Kt=t=>t.key||"";function To(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const ki=typeof window<"u",ha=ki?k.useLayoutEffect:k.useEffect,BE=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1})=>{const[u,f]=da(l),c=k.useMemo(()=>To(t),[t]),d=l&&!u?[]:c.map(Kt),h=k.useRef(!0),p=k.useRef(c),m=Ri(()=>new Map),[g,y]=k.useState(c),[T,v]=k.useState(c);ha(()=>{h.current=!1,p.current=c;for(let E=0;E<T.length;E++){const _=Kt(T[E]);d.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[T,d.length,d.join("-")]);const C=[];if(c!==g){let E=[...c];for(let _=0;_<T.length;_++){const A=T[_],R=Kt(A);d.includes(R)||(E.splice(_,0,A),C.push(A))}a==="wait"&&C.length&&(E=C),v(To(E)),y(c);return}const{forceRender:S}=k.useContext(wi);return Ce.jsx(Ce.Fragment,{children:T.map(E=>{const _=Kt(E),A=l&&!u?!1:c===T||d.includes(_),R=()=>{if(m.has(_))m.set(_,!0);else return;let D=!0;m.forEach(w=>{w||(D=!1)}),D&&(S==null||S(),v(p.current),l&&(f==null||f()),i&&i())};return Ce.jsx(xu,{isPresent:A,initial:!h.current||n?void 0:!1,custom:A?void 0:e,presenceAffectsLayout:o,mode:a,onExitComplete:A?void 0:R,children:E},_)})})},ae=t=>t;let pa=ae;function Ni(t){let e;return()=>(e===void 0&&(e=t()),e)}const st=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},_e=t=>t*1e3,Se=t=>t/1e3,Mu={useManualTiming:!1};function Pu(t){let e=new Set,n=new Set,i=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(c){a.has(c)&&(f.schedule(c),t()),c(l)}const f={schedule:(c,d=!1,h=!1)=>{const m=h&&i?e:n;return d&&a.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(l=c,i){o=!0;return}i=!0,[e,n]=[n,e],e.forEach(u),e.clear(),i=!1,o&&(o=!1,f.process(c))}};return f}const Yt=["read","resolveKeyframes","update","preRender","render","postRender"],Iu=40;function ma(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Yt.reduce((v,C)=>(v[C]=Pu(a),v),{}),{read:u,resolveKeyframes:f,update:c,preRender:d,render:h,postRender:p}=l,m=()=>{const v=performance.now();n=!1,o.delta=i?1e3/60:Math.max(Math.min(v-o.timestamp,Iu),1),o.timestamp=v,o.isProcessing=!0,u.process(o),f.process(o),c.process(o),d.process(o),h.process(o),p.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(m))},g=()=>{n=!0,i=!0,o.isProcessing||t(m)};return{schedule:Yt.reduce((v,C)=>{const S=l[C];return v[C]=(E,_=!1,A=!1)=>(n||g(),S.schedule(E,_,A)),v},{}),cancel:v=>{for(let C=0;C<Yt.length;C++)l[Yt[C]].cancel(v)},state:o,steps:l}}const{schedule:Y,cancel:Re,state:te,steps:Vn}=ma(typeof requestAnimationFrame<"u"?requestAnimationFrame:ae,!0),ga=k.createContext({strict:!1}),Co={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rt={};for(const t in Co)rt[t]={isEnabled:e=>Co[t].some(n=>!!e[n])};function wu(t){for(const e in t)rt[e]={...rt[e],...t[e]}}const Ru=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rn(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ru.has(t)}let ya=t=>!rn(t);function Du(t){t&&(ya=e=>e.startsWith("on")?!rn(e):t(e))}try{Du(require("@emotion/is-prop-valid").default)}catch{}function ku(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(ya(o)||n===!0&&rn(o)||!e&&!rn(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}function Nu(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Sn=k.createContext({});function kt(t){return typeof t=="string"||Array.isArray(t)}function En(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Vi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Li=["initial",...Vi];function xn(t){return En(t.animate)||Li.some(e=>kt(t[e]))}function va(t){return!!(xn(t)||t.variants)}function Vu(t,e){if(xn(t)){const{initial:n,animate:i}=t;return{initial:n===!1||kt(n)?n:void 0,animate:kt(i)?i:void 0}}return t.inherit!==!1?e:{}}function Lu(t){const{initial:e,animate:n}=Vu(t,k.useContext(Sn));return k.useMemo(()=>({initial:e,animate:n}),[_o(e),_o(n)])}function _o(t){return Array.isArray(t)?t.join(" "):t}const Fu=Symbol.for("motionComponentSymbol");function Xe(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Uu(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Xe(n)&&(n.current=i))},[e])}const Fi=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bu="framerAppearId",Ta="data-"+Fi(bu),{schedule:Ui}=ma(queueMicrotask,!1),Ca=k.createContext({});function Bu(t,e,n,i,o){var a,l;const{visualElement:u}=k.useContext(Sn),f=k.useContext(ga),c=k.useContext(_n),d=k.useContext(Di).reducedMotion,h=k.useRef(null);i=i||f.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:u,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=k.useContext(Ca);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&Gu(h.current,n,o,m);const g=k.useRef(!1);k.useInsertionEffect(()=>{p&&g.current&&p.update(n,c)});const y=n[Ta],T=k.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,y)));return ha(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Ui.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),T.current=!1))}),p}function Gu(t,e,n,i){const{layoutId:o,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_a(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||u&&Xe(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:c})}function _a(t){if(t)return t.options.allowProjection!==!1?t.projection:_a(t.parent)}function qu({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:o}){var a,l;t&&wu(t);function u(c,d){let h;const p={...k.useContext(Di),...c,layoutId:$u(c)},{isStatic:m}=p,g=Lu(c),y=i(c,m);if(!m&&ki){Ju();const T=Hu(p);h=T.MeasureLayout,g.visualElement=Bu(o,y,p,e,T.ProjectionNode)}return Ce.jsxs(Sn.Provider,{value:g,children:[h&&g.visualElement?Ce.jsx(h,{visualElement:g.visualElement,...p}):null,n(o,c,Uu(y,g.visualElement,d),y,m,g.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${(l=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&l!==void 0?l:""})`}`;const f=k.forwardRef(u);return f[Fu]=o,f}function $u({layoutId:t}){const e=k.useContext(wi).id;return e&&t!==void 0?e+"-"+t:t}function Ju(t,e){k.useContext(ga).strict}function Hu(t){const{drag:e,layout:n}=rt;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Ou=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bi(t){return typeof t!="string"||t.includes("-")?!1:!!(Ou.indexOf(t)>-1||/[A-Z]/u.test(t))}function So(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Bi(t,e,n,i){if(typeof e=="function"){const[o,a]=So(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=So(i);e=e(n!==void 0?n:t.custom,o,a)}return e}const zn=t=>Array.isArray(t),Wu=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Ku=t=>zn(t)?t[t.length-1]||0:t,ie=t=>!!(t&&t.getVelocity);function jt(t){const e=ie(t)?t.get():t;return Wu(e)?e.toValue():e}function Yu({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,o,a){const l={latestValues:zu(i,o,a,t),renderState:e()};return n&&(l.onMount=u=>n({props:i,current:u,...l}),l.onUpdate=u=>n(u)),l}const Sa=t=>(e,n)=>{const i=k.useContext(Sn),o=k.useContext(_n),a=()=>Yu(t,e,i,o);return n?a():Ri(a)};function zu(t,e,n,i){const o={},a=i(t,{});for(const p in a)o[p]=jt(a[p]);let{initial:l,animate:u}=t;const f=xn(t),c=va(t);e&&c&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const h=d?u:l;if(h&&typeof h!="boolean"&&!En(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const g=Bi(t,p[m]);if(g){const{transitionEnd:y,transition:T,...v}=g;for(const C in v){let S=v[C];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(o[C]=S)}for(const C in y)o[C]=y[C]}}}return o}const ht=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ke=new Set(ht),Ea=t=>e=>typeof e=="string"&&e.startsWith(t),xa=Ea("--"),Zu=Ea("var(--"),Gi=t=>Zu(t)?Xu.test(t.split("/*")[0].trim()):!1,Xu=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Aa=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ee=(t,e,n)=>n>e?e:n<t?t:n,pt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nt={...pt,transform:t=>Ee(0,1,t)},zt={...pt,default:1},Bt=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pe=Bt("deg"),ge=Bt("%"),F=Bt("px"),Qu=Bt("vh"),ju=Bt("vw"),Eo={...ge,parse:t=>ge.parse(t)/100,transform:t=>ge.transform(t*100)},ec={borderWidth:F,borderTopWidth:F,borderRightWidth:F,borderBottomWidth:F,borderLeftWidth:F,borderRadius:F,radius:F,borderTopLeftRadius:F,borderTopRightRadius:F,borderBottomRightRadius:F,borderBottomLeftRadius:F,width:F,maxWidth:F,height:F,maxHeight:F,top:F,right:F,bottom:F,left:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,backgroundPositionX:F,backgroundPositionY:F},tc={rotate:Pe,rotateX:Pe,rotateY:Pe,rotateZ:Pe,scale:zt,scaleX:zt,scaleY:zt,scaleZ:zt,skew:Pe,skewX:Pe,skewY:Pe,distance:F,translateX:F,translateY:F,translateZ:F,x:F,y:F,z:F,perspective:F,transformPerspective:F,opacity:Nt,originX:Eo,originY:Eo,originZ:F},xo={...pt,transform:Math.round},qi={...ec,...tc,zIndex:xo,size:F,fillOpacity:Nt,strokeOpacity:Nt,numOctaves:xo},nc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ic=ht.length;function oc(t,e,n){let i="",o=!0;for(let a=0;a<ic;a++){const l=ht[a],u=t[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const c=Aa(u,qi[l]);if(!f){o=!1;const d=nc[l]||l;i+=`${d}(${c}) `}n&&(e[l]=c)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function $i(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let l=!1,u=!1;for(const f in e){const c=e[f];if(Ke.has(f)){l=!0;continue}else if(xa(f)){o[f]=c;continue}else{const d=Aa(c,qi[f]);f.startsWith("origin")?(u=!0,a[f]=d):i[f]=d}}if(e.transform||(l||n?i.transform=oc(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:c="50%",originZ:d=0}=a;i.transformOrigin=`${f} ${c} ${d}`}}const sc={offset:"stroke-dashoffset",array:"stroke-dasharray"},rc={offset:"strokeDashoffset",array:"strokeDasharray"};function ac(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?sc:rc;t[a.offset]=F.transform(-i);const l=F.transform(e),u=F.transform(n);t[a.array]=`${l} ${u}`}function Ao(t,e,n){return typeof t=="string"?t:F.transform(e+n*t)}function lc(t,e,n){const i=Ao(e,t.x,t.width),o=Ao(n,t.y,t.height);return`${i} ${o}`}function Ji(t,{attrX:e,attrY:n,attrScale:i,originX:o,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...c},d,h){if($i(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(o!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=lc(g,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),l!==void 0&&ac(p,l,u,f,!1)}const Hi=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ma=()=>({...Hi(),attrs:{}}),Oi=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Pa(t,{style:e,vars:n},i,o){Object.assign(t.style,e,o&&o.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const Ia=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wa(t,e,n,i){Pa(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(Ia.has(o)?o:Fi(o),e.attrs[o])}const an={};function uc(t){Object.assign(an,t)}function Ra(t,{layout:e,layoutId:n}){return Ke.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!an[t]||t==="opacity")}function Wi(t,e,n){var i;const{style:o}=t,a={};for(const l in o)(ie(o[l])||e.style&&ie(e.style[l])||Ra(l,t)||((i=n==null?void 0:n.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[l]=o[l]);return a}function Da(t,e,n){const i=Wi(t,e,n);for(const o in t)if(ie(t[o])||ie(e[o])){const a=ht.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}function cc(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Mo=["x","y","width","height","cx","cy","r"],fc={useVisualState:Sa({scrapeMotionValuesFromProps:Da,createRenderState:Ma,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:o})=>{if(!n)return;let a=!!t.drag;if(!a){for(const u in o)if(Ke.has(u)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let u=0;u<Mo.length;u++){const f=Mo[u];t[f]!==e[f]&&(l=!0)}l&&Y.read(()=>{cc(n,i),Y.render(()=>{Ji(i,o,Oi(n.tagName),t.transformTemplate),wa(n,i)})})}})},dc={useVisualState:Sa({scrapeMotionValuesFromProps:Wi,createRenderState:Hi})};function ka(t,e,n){for(const i in e)!ie(e[i])&&!Ra(i,n)&&(t[i]=e[i])}function hc({transformTemplate:t},e){return k.useMemo(()=>{const n=Hi();return $i(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pc(t,e){const n=t.style||{},i={};return ka(i,n,t),Object.assign(i,hc(t,e)),i}function mc(t,e){const n={},i=pc(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function gc(t,e,n,i){const o=k.useMemo(()=>{const a=Ma();return Ji(a,e,Oi(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ka(a,t.style,t),o.style={...a,...o.style}}return o}function yc(t=!1){return(n,i,o,{latestValues:a},l)=>{const f=(bi(n)?gc:mc)(i,a,l,n),c=ku(i,typeof n=="string",t),d=n!==k.Fragment?{...c,...f,ref:o}:{},{children:h}=i,p=k.useMemo(()=>ie(h)?h.get():h,[h]);return k.createElement(n,{...d,children:p})}}function vc(t,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...bi(i)?fc:dc,preloadedFeatures:t,useRender:yc(o),createVisualElement:e,Component:i};return qu(l)}}function Na(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function An(t,e,n){const i=t.getProps();return Bi(i,e,n!==void 0?n:i.custom,t)}const Tc=Ni(()=>window.ScrollTimeline!==void 0);class Cc{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(o=>{if(Tc()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{i.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _c extends Cc{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ki(t,e){return t?t[e]||t.default||t:void 0}const Zn=2e4;function Va(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Zn;)e+=n,i=t.next(e);return e>=Zn?1/0:e}function Yi(t){return typeof t=="function"}function Po(t,e){t.timeline=e,t.onfinish=null}const zi=t=>Array.isArray(t)&&typeof t[0]=="number",Sc={linearEasing:void 0};function Ec(t,e){const n=Ni(t);return()=>{var i;return(i=Sc[e])!==null&&i!==void 0?i:n()}}const ln=Ec(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),La=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=t(st(0,o-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function Fa(t){return!!(typeof t=="function"&&ln()||!t||typeof t=="string"&&(t in Xn||ln())||zi(t)||Array.isArray(t)&&t.every(Fa))}const St=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Xn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:St([0,.65,.55,1]),circOut:St([.55,0,1,.45]),backIn:St([.31,.01,.66,-.59]),backOut:St([.33,1.53,.69,.99])};function Ua(t,e){if(t)return typeof t=="function"&&ln()?La(t,e):zi(t)?St(t):Array.isArray(t)?t.map(n=>Ua(n,e)||Xn.easeOut):Xn[t]}const he={x:!1,y:!1};function ba(){return he.x||he.y}function xc(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const a=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function Ba(t,e){const n=xc(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Io(t){return e=>{e.pointerType==="touch"||ba()||t(e)}}function Ac(t,e,n={}){const[i,o,a]=Ba(t,n),l=Io(u=>{const{target:f}=u,c=e(u);if(typeof c!="function"||!f)return;const d=Io(h=>{c(h),f.removeEventListener("pointerleave",d)});f.addEventListener("pointerleave",d,o)});return i.forEach(u=>{u.addEventListener("pointerenter",l,o)}),a}const Ga=(t,e)=>e?t===e?!0:Ga(t,e.parentElement):!1,Zi=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Mc=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pc(t){return Mc.has(t.tagName)||t.tabIndex!==-1}const Et=new WeakSet;function wo(t){return e=>{e.key==="Enter"&&t(e)}}function Ln(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ic=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=wo(()=>{if(Et.has(n))return;Ln(n,"down");const o=wo(()=>{Ln(n,"up")}),a=()=>Ln(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Ro(t){return Zi(t)&&!ba()}function wc(t,e,n={}){const[i,o,a]=Ba(t,n),l=u=>{const f=u.currentTarget;if(!Ro(u)||Et.has(f))return;Et.add(f);const c=e(u),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!Ro(m)||!Et.has(f))&&(Et.delete(f),typeof c=="function"&&c(m,{success:g}))},h=m=>{d(m,n.useGlobalTarget||Ga(f,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",p,o)};return i.forEach(u=>{!Pc(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,o),u.addEventListener("focus",c=>Ic(c,o),o)}),a}function Rc(t){return t==="x"||t==="y"?he[t]?null:(he[t]=!0,()=>{he[t]=!1}):he.x||he.y?null:(he.x=he.y=!0,()=>{he.x=he.y=!1})}const qa=new Set(["width","height","top","left","right","bottom",...ht]);let en;function Dc(){en=void 0}const ye={now:()=>(en===void 0&&ye.set(te.isProcessing||Mu.useManualTiming?te.timestamp:performance.now()),en),set:t=>{en=t,queueMicrotask(Dc)}};function Xi(t,e){t.indexOf(e)===-1&&t.push(e)}function Qi(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ji{constructor(){this.subscriptions=[]}add(e){return Xi(this.subscriptions,e),()=>Qi(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $a(t,e){return e?t*(1e3/e):0}const Do=30,kc=t=>!isNaN(parseFloat(t));class Nc{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const a=ye.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ye.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kc(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ji);const i=this.events[e].add(n);return e==="change"?()=>{i(),Y.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ye.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Do)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Do);return $a(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vt(t,e){return new Nc(t,e)}function Vc(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vt(n))}function Lc(t,e){const n=An(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const l in a){const u=Ku(a[l]);Vc(t,l,u)}}function Fc(t){return!!(ie(t)&&t.add)}function Qn(t,e){const n=t.getValue("willChange");if(Fc(n))return n.add(e)}function Ja(t){return t.props[Ta]}const Ha=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Uc=1e-7,bc=12;function Bc(t,e,n,i,o){let a,l,u=0;do l=e+(n-e)/2,a=Ha(l,i,o)-t,a>0?n=l:e=l;while(Math.abs(a)>Uc&&++u<bc);return l}function Gt(t,e,n,i){if(t===e&&n===i)return ae;const o=a=>Bc(a,0,1,t,n);return a=>a===0||a===1?a:Ha(o(a),e,i)}const Oa=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Wa=t=>e=>1-t(1-e),Ka=Gt(.33,1.53,.69,.99),eo=Wa(Ka),Ya=Oa(eo),za=t=>(t*=2)<1?.5*eo(t):.5*(2-Math.pow(2,-10*(t-1))),to=t=>1-Math.sin(Math.acos(t)),Za=Wa(to),Xa=Oa(to),Qa=t=>/^0[^.\s]+$/u.test(t);function Gc(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Qa(t):!0}const Pt=t=>Math.round(t*1e5)/1e5,no=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qc(t){return t==null}const $c=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,io=(t,e)=>n=>!!(typeof n=="string"&&$c.test(n)&&n.startsWith(t)||e&&!qc(n)&&Object.prototype.hasOwnProperty.call(n,e)),ja=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,l,u]=i.match(no);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Jc=t=>Ee(0,255,t),Fn={...pt,transform:t=>Math.round(Jc(t))},qe={test:io("rgb","red"),parse:ja("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Fn.transform(t)+", "+Fn.transform(e)+", "+Fn.transform(n)+", "+Pt(Nt.transform(i))+")"};function Hc(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const jn={test:io("#"),parse:Hc,transform:qe.transform},Qe={test:io("hsl","hue"),parse:ja("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ge.transform(Pt(e))+", "+ge.transform(Pt(n))+", "+Pt(Nt.transform(i))+")"},ne={test:t=>qe.test(t)||jn.test(t)||Qe.test(t),parse:t=>qe.test(t)?qe.parse(t):Qe.test(t)?Qe.parse(t):jn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qe.transform(t):Qe.transform(t)},Oc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Wc(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(no))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Oc))===null||n===void 0?void 0:n.length)||0)>0}const el="number",tl="color",Kc="var",Yc="var(",ko="${}",zc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lt(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(zc,f=>(ne.test(f)?(i.color.push(a),o.push(tl),n.push(ne.parse(f))):f.startsWith(Yc)?(i.var.push(a),o.push(Kc),n.push(f)):(i.number.push(a),o.push(el),n.push(parseFloat(f))),++a,ko)).split(ko);return{values:n,split:u,indexes:i,types:o}}function nl(t){return Lt(t).values}function il(t){const{split:e,types:n}=Lt(t),i=e.length;return o=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],o[l]!==void 0){const u=n[l];u===el?a+=Pt(o[l]):u===tl?a+=ne.transform(o[l]):a+=o[l]}return a}}const Zc=t=>typeof t=="number"?0:t;function Xc(t){const e=nl(t);return il(t)(e.map(Zc))}const De={test:Wc,parse:nl,createTransformer:il,getAnimatableNone:Xc},Qc=new Set(["brightness","contrast","saturate","opacity"]);function jc(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(no)||[];if(!i)return t;const o=n.replace(i,"");let a=Qc.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const ef=/\b([a-z-]*)\(.*?\)/gu,ei={...De,getAnimatableNone:t=>{const e=t.match(ef);return e?e.map(jc).join(" "):t}},tf={...qi,color:ne,backgroundColor:ne,outlineColor:ne,fill:ne,stroke:ne,borderColor:ne,borderTopColor:ne,borderRightColor:ne,borderBottomColor:ne,borderLeftColor:ne,filter:ei,WebkitFilter:ei},oo=t=>tf[t];function ol(t,e){let n=oo(t);return n!==ei&&(n=De),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nf=new Set(["auto","none","0"]);function of(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!nf.has(a)&&Lt(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=ol(n,o)}const No=t=>t===pt||t===F,Vo=(t,e)=>parseFloat(t.split(", ")[e]),Lo=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return Vo(o[1],e);{const a=i.match(/^matrix\((.+)\)$/u);return a?Vo(a[1],t):0}},sf=new Set(["x","y","z"]),rf=ht.filter(t=>!sf.has(t));function af(t){const e=[];return rf.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const at={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Lo(4,13),y:Lo(5,14)};at.translateX=at.x;at.translateY=at.y;const $e=new Set;let ti=!1,ni=!1;function sl(){if(ni){const t=Array.from($e).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=af(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,l])=>{var u;(u=i.getValue(a))===null||u===void 0||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ni=!1,ti=!1,$e.forEach(t=>t.complete()),$e.clear()}function rl(){$e.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ni=!0)})}function lf(){rl(),sl()}class so{constructor(e,n,i,o,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?($e.add(this),ti||(ti=!0,Y.read(rl),Y.resolveKeyframes(sl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=o==null?void 0:o.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$e.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$e.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const al=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),uf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cf(t){const e=uf.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function ll(t,e,n=1){const[i,o]=cf(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return al(l)?parseFloat(l):l}return Gi(o)?ll(o,e,n+1):o}const ul=t=>e=>e.test(t),ff={test:t=>t==="auto",parse:t=>t},cl=[pt,F,ge,Pe,ju,Qu,ff],Fo=t=>cl.find(ul(t));class fl extends so{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let c=e[f];if(typeof c=="string"&&(c=c.trim(),Gi(c))){const d=ll(c,n.current);d!==void 0&&(e[f]=d),f===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!qa.has(i)||e.length!==2)return;const[o,a]=e,l=Fo(o),u=Fo(a);if(l!==u)if(No(l)&&No(u))for(let f=0;f<e.length;f++){const c=e[f];typeof c=="string"&&(e[f]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)Gc(e[o])&&i.push(o);i.length&&of(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=at[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const l=o.length-1,u=o[l];o[l]=at[i](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,c])=>{n.getValue(f).set(c)}),this.resolveNoneKeyframes()}}const Uo=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(De.test(t)||t==="0")&&!t.startsWith("url("));function df(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hf(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Uo(o,e),u=Uo(a,e);return!l||!u?!1:df(t)||(n==="spring"||Yi(n))&&i}const pf=t=>t!==null;function Mn(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(pf),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||i===void 0?o[a]:i}const mf=40;class dl{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ye.now(),this.options={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>mf?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&lf(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ye.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:a,delay:l,onComplete:u,onUpdate:f,isGenerator:c}=this.options;if(!c&&!hf(e,i,o,a))if(l)this.options.duration=0;else{f&&f(Mn(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const z=(t,e,n)=>t+(e-t)*n;function Un(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gf({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,l=0;if(!e)o=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;o=Un(f,u,t+1/3),a=Un(f,u,t),l=Un(f,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function un(t,e){return n=>n>0?e:t}const bn=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},yf=[jn,qe,Qe],vf=t=>yf.find(e=>e.test(t));function bo(t){const e=vf(t);if(!e)return!1;let n=e.parse(t);return e===Qe&&(n=gf(n)),n}const Bo=(t,e)=>{const n=bo(t),i=bo(e);if(!n||!i)return un(t,e);const o={...n};return a=>(o.red=bn(n.red,i.red,a),o.green=bn(n.green,i.green,a),o.blue=bn(n.blue,i.blue,a),o.alpha=z(n.alpha,i.alpha,a),qe.transform(o))},Tf=(t,e)=>n=>e(t(n)),qt=(...t)=>t.reduce(Tf),ii=new Set(["none","hidden"]);function Cf(t,e){return ii.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _f(t,e){return n=>z(t,e,n)}function ro(t){return typeof t=="number"?_f:typeof t=="string"?Gi(t)?un:ne.test(t)?Bo:xf:Array.isArray(t)?hl:typeof t=="object"?ne.test(t)?Bo:Sf:un}function hl(t,e){const n=[...t],i=n.length,o=t.map((a,l)=>ro(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)n[l]=o[l](a);return n}}function Sf(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=ro(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function Ef(t,e){var n;const i=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][o[l]],f=(n=t.values[u])!==null&&n!==void 0?n:0;i[a]=f,o[l]++}return i}const xf=(t,e)=>{const n=De.createTransformer(e),i=Lt(t),o=Lt(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?ii.has(t)&&!o.values.length||ii.has(e)&&!i.values.length?Cf(t,e):qt(hl(Ef(i,o),o.values),n):un(t,e)};function pl(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?z(t,e,n):ro(t)(t,e)}const Af=5;function ml(t,e,n){const i=Math.max(e-Af,0);return $a(n-t(i),e-i)}const X={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bn=.001;function Mf({duration:t=X.duration,bounce:e=X.bounce,velocity:n=X.velocity,mass:i=X.mass}){let o,a,l=1-e;l=Ee(X.minDamping,X.maxDamping,l),t=Ee(X.minDuration,X.maxDuration,Se(t)),l<1?(o=c=>{const d=c*l,h=d*t,p=d-n,m=oi(c,l),g=Math.exp(-h);return Bn-p/m*g},a=c=>{const h=c*l*t,p=h*n+n,m=Math.pow(l,2)*Math.pow(c,2)*t,g=Math.exp(-h),y=oi(Math.pow(c,2),l);return(-o(c)+Bn>0?-1:1)*((p-m)*g)/y}):(o=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Bn+d*h},a=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const u=5/t,f=If(o,a,u);if(t=_e(t),isNaN(f))return{stiffness:X.stiffness,damping:X.damping,duration:t};{const c=Math.pow(f,2)*i;return{stiffness:c,damping:l*2*Math.sqrt(i*c),duration:t}}}const Pf=12;function If(t,e,n){let i=n;for(let o=1;o<Pf;o++)i=i-t(i)/e(i);return i}function oi(t,e){return t*Math.sqrt(1-e*e)}const wf=["duration","bounce"],Rf=["stiffness","damping","mass"];function Go(t,e){return e.some(n=>t[n]!==void 0)}function Df(t){let e={velocity:X.velocity,stiffness:X.stiffness,damping:X.damping,mass:X.mass,isResolvedFromDuration:!1,...t};if(!Go(t,Rf)&&Go(t,wf))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Ee(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:X.mass,stiffness:o,damping:a}}else{const n=Mf(t);e={...e,...n,mass:X.mass},e.isResolvedFromDuration=!0}return e}function gl(t=X.visualDuration,e=X.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=Df({...n,velocity:-Se(n.velocity||0)}),g=p||0,y=c/(2*Math.sqrt(f*d)),T=l-a,v=Se(Math.sqrt(f/d)),C=Math.abs(T)<5;i||(i=C?X.restSpeed.granular:X.restSpeed.default),o||(o=C?X.restDelta.granular:X.restDelta.default);let S;if(y<1){const _=oi(v,y);S=A=>{const R=Math.exp(-y*v*A);return l-R*((g+y*v*T)/_*Math.sin(_*A)+T*Math.cos(_*A))}}else if(y===1)S=_=>l-Math.exp(-v*_)*(T+(g+v*T)*_);else{const _=v*Math.sqrt(y*y-1);S=A=>{const R=Math.exp(-y*v*A),D=Math.min(_*A,300);return l-R*((g+y*v*T)*Math.sinh(D)+_*T*Math.cosh(D))/_}}const E={calculatedDuration:m&&h||null,next:_=>{const A=S(_);if(m)u.done=_>=h;else{let R=0;y<1&&(R=_===0?_e(g):ml(S,_,A));const D=Math.abs(R)<=i,w=Math.abs(l-A)<=o;u.done=D&&w}return u.value=u.done?l:A,u},toString:()=>{const _=Math.min(Va(E),Zn),A=La(R=>E.next(_*R).value,_,30);return _+"ms "+A}};return E}function qo({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=D=>u!==void 0&&D<u||f!==void 0&&D>f,g=D=>u===void 0?f:f===void 0||Math.abs(u-D)<Math.abs(f-D)?u:f;let y=n*e;const T=h+y,v=l===void 0?T:l(T);v!==T&&(y=v-h);const C=D=>-y*Math.exp(-D/i),S=D=>v+C(D),E=D=>{const w=C(D),G=S(D);p.done=Math.abs(w)<=c,p.value=p.done?v:G};let _,A;const R=D=>{m(p.value)&&(_=D,A=gl({keyframes:[p.value,g(p.value)],velocity:ml(S,D,p.value),damping:o,stiffness:a,restDelta:c,restSpeed:d}))};return R(0),{calculatedDuration:null,next:D=>{let w=!1;return!A&&_===void 0&&(w=!0,E(D),R(D)),_!==void 0&&D>=_?A.next(D-_):(!w&&E(D),p)}}}const kf=Gt(.42,0,1,1),Nf=Gt(0,0,.58,1),yl=Gt(.42,0,.58,1),Vf=t=>Array.isArray(t)&&typeof t[0]!="number",Lf={linear:ae,easeIn:kf,easeInOut:yl,easeOut:Nf,circIn:to,circInOut:Xa,circOut:Za,backIn:eo,backInOut:Ya,backOut:Ka,anticipate:za},$o=t=>{if(zi(t)){pa(t.length===4);const[e,n,i,o]=t;return Gt(e,n,i,o)}else if(typeof t=="string")return Lf[t];return t};function Ff(t,e,n){const i=[],o=n||pl,a=t.length-1;for(let l=0;l<a;l++){let u=o(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||ae:e;u=qt(f,u)}i.push(u)}return i}function Uf(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(pa(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Ff(e,i,o),f=u.length,c=d=>{if(l&&d<t[0])return e[0];let h=0;if(f>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=st(t[h],t[h+1],d);return u[h](p)};return n?d=>c(Ee(t[0],t[a-1],d)):c}function bf(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=st(0,e,i);t.push(z(n,1,o))}}function Bf(t){const e=[0];return bf(e,t.length-1),e}function Gf(t,e){return t.map(n=>n*e)}function qf(t,e){return t.map(()=>e||yl).splice(0,t.length-1)}function cn({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=Vf(i)?i.map($o):$o(i),a={done:!1,value:e[0]},l=Gf(n&&n.length===e.length?n:Bf(e),t),u=Uf(l,e,{ease:Array.isArray(o)?o:qf(e,o)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const $f=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Y.update(e,!0),stop:()=>Re(e),now:()=>te.isProcessing?te.timestamp:ye.now()}},Jf={decay:qo,inertia:qo,tween:cn,keyframes:cn,spring:gl},Hf=t=>t/100;class ao extends dl{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:o,keyframes:a}=this.options,l=(o==null?void 0:o.KeyframeResolver)||so,u=(f,c)=>this.onKeyframesResolved(f,c);this.resolver=new l(a,u,n,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=this.options,u=Yi(n)?n:Jf[n]||cn;let f,c;u!==cn&&typeof e[0]!="number"&&(f=qt(Hf,pl(e[0],e[1])),e=[0,100]);const d=u({...this.options,keyframes:e});a==="mirror"&&(c=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=Va(d));const{calculatedDuration:h}=d,p=h+o,m=p*(i+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:f,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return a.next(0);const{delay:p,repeat:m,repeatType:g,repeatDelay:y,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-p*(this.speed>=0?1:-1),C=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,E=a;if(m){const D=Math.min(this.currentTime,d)/h;let w=Math.floor(D),G=D%1;!G&&D>=1&&(G=1),G===1&&w--,w=Math.min(w,m+1),!!(w%2)&&(g==="reverse"?(G=1-G,y&&(G-=y/h)):g==="mirror"&&(E=l)),S=Ee(0,1,G)*h}const _=C?{done:!1,value:f[0]}:E.next(S);u&&(_.value=u(_.value));let{done:A}=_;!C&&c!==null&&(A=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return R&&o!==void 0&&(_.value=Mn(f,this.options,o)),T&&T(_.value),R&&this.finish(),_}get duration(){const{resolved:e}=this;return e?Se(e.calculatedDuration):0}get time(){return Se(this.currentTime)}set time(e){e=_e(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Se(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$f,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Of=new Set(["opacity","clipPath","filter","transform"]);function Wf(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:u="easeInOut",times:f}={}){const c={[e]:n};f&&(c.offset=f);const d=Ua(u,o);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const Kf=Ni(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fn=10,Yf=2e4;function zf(t){return Yi(t.type)||t.type==="spring"||!Fa(t.ease)}function Zf(t,e){const n=new ao({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const o=[];let a=0;for(;!i.done&&a<Yf;)i=n.sample(a),o.push(i.value),a+=fn;return{times:void 0,keyframes:o,duration:a-fn,ease:"linear"}}const vl={anticipate:za,backInOut:Ya,circInOut:Xa};function Xf(t){return t in vl}class Jo extends dl{constructor(e){super(e);const{name:n,motionValue:i,element:o,keyframes:a}=this.options;this.resolver=new fl(a,(l,u)=>this.onKeyframesResolved(l,u),n,i,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:o,ease:a,type:l,motionValue:u,name:f,startTime:c}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof a=="string"&&ln()&&Xf(a)&&(a=vl[a]),zf(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:g,...y}=this.options,T=Zf(e,y);e=T.keyframes,e.length===1&&(e[1]=e[0]),i=T.duration,o=T.times,a=T.ease,l="keyframes"}const d=Wf(u.owner.current,f,e,{...this.options,duration:i,times:o,ease:a});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Po(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;u.set(Mn(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:o,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Se(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Se(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=_e(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ae;const{animation:i}=n;Po(i,e)}return ae}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:o,type:a,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...m}=this.options,g=new ao({...m,keyframes:i,duration:o,type:a,ease:l,times:u,isGenerator:!0}),y=_e(this.time);c.setWithVelocity(g.sample(y-fn).value,g.sample(y).value,fn)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:o,repeatType:a,damping:l,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:c}=n.owner.getProps();return Kf()&&i&&Of.has(i)&&!f&&!c&&!o&&a!=="mirror"&&l!==0&&u!=="inertia"}}const Qf={type:"spring",stiffness:500,damping:25,restSpeed:10},jf=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ed={type:"keyframes",duration:.8},td={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nd=(t,{keyframes:e})=>e.length>2?ed:Ke.has(t)?t.startsWith("scale")?jf(e[1]):Qf:td;function id({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:c,...d}){return!!Object.keys(d).length}const lo=(t,e,n,i={},o,a)=>l=>{const u=Ki(i,t)||{},f=u.delay||i.delay||0;let{elapsed:c=0}=i;c=c-_e(f);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-c,onUpdate:p=>{e.set(p),u.onUpdate&&u.onUpdate(p)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};id(u)||(d={...d,...nd(t,d)}),d.duration&&(d.duration=_e(d.duration)),d.repeatDelay&&(d.repeatDelay=_e(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const p=Mn(d.keyframes,u);if(p!==void 0)return Y.update(()=>{d.onUpdate(p),d.onComplete()}),new _c([])}return!a&&Jo.supports(d)?new Jo(d):new ao(d)};function od({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Tl(t,e,{delay:n=0,transitionOverride:i,type:o}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const c=[],d=o&&t.animationState&&t.animationState.getState()[o];for(const h in f){const p=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),m=f[h];if(m===void 0||d&&od(d,h))continue;const g={delay:n,...Ki(l||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=Ja(t);if(v){const C=window.MotionHandoffAnimation(v,h,Y);C!==null&&(g.startTime=C,y=!0)}}Qn(t,h),p.start(lo(h,p,m,t.shouldReduceMotion&&qa.has(h)?{type:!1}:g,t,y));const T=p.animation;T&&c.push(T)}return u&&Promise.all(c).then(()=>{Y.update(()=>{u&&Lc(t,u)})}),c}function si(t,e,n={}){var i;const o=An(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const l=o?()=>Promise.all(Tl(t,o,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=a;return sd(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[c,d]=f==="beforeChildren"?[l,u]:[u,l];return c().then(()=>d())}else return Promise.all([l(),u(n.delay)])}function sd(t,e,n=0,i=0,o=1,a){const l=[],u=(t.variantChildren.size-1)*i,f=o===1?(c=0)=>c*i:(c=0)=>u-c*i;return Array.from(t.variantChildren).sort(rd).forEach((c,d)=>{c.notify("AnimationStart",e),l.push(si(c,e,{...a,delay:n+f(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(l)}function rd(t,e){return t.sortNodePosition(e)}function ad(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>si(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=si(t,e,n);else{const o=typeof e=="function"?An(t,e,n.custom):e;i=Promise.all(Tl(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const ld=Li.length;function Cl(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Cl(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ld;n++){const i=Li[n],o=t.props[i];(kt(o)||o===!1)&&(e[i]=o)}return e}const ud=[...Vi].reverse(),cd=Vi.length;function fd(t){return e=>Promise.all(e.map(({animation:n,options:i})=>ad(t,n,i)))}function dd(t){let e=fd(t),n=Ho(),i=!0;const o=f=>(c,d)=>{var h;const p=An(t,d,f==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:g,...y}=p;c={...c,...y,...g}}return c};function a(f){e=f(t)}function l(f){const{props:c}=t,d=Cl(t.parent)||{},h=[],p=new Set;let m={},g=1/0;for(let T=0;T<cd;T++){const v=ud[T],C=n[v],S=c[v]!==void 0?c[v]:d[v],E=kt(S),_=v===f?C.isActive:null;_===!1&&(g=T);let A=S===d[v]&&S!==c[v]&&E;if(A&&i&&t.manuallyAnimateOnMount&&(A=!1),C.protectedKeys={...m},!C.isActive&&_===null||!S&&!C.prevProp||En(S)||typeof S=="boolean")continue;const R=hd(C.prevProp,S);let D=R||v===f&&C.isActive&&!A&&E||T>g&&E,w=!1;const G=Array.isArray(S)?S:[S];let q=G.reduce(o(v),{});_===!1&&(q={});const{prevResolvedValues:j={}}=C,Ve={...j,...q},Le=L=>{D=!0,p.has(L)&&(w=!0,p.delete(L)),C.needsAnimating[L]=!0;const U=t.getValue(L);U&&(U.liveStyle=!1)};for(const L in Ve){const U=q[L],W=j[L];if(m.hasOwnProperty(L))continue;let Z=!1;zn(U)&&zn(W)?Z=!Na(U,W):Z=U!==W,Z?U!=null?Le(L):p.add(L):U!==void 0&&p.has(L)?Le(L):C.protectedKeys[L]=!0}C.prevProp=S,C.prevResolvedValues=q,C.isActive&&(m={...m,...q}),i&&t.blockInitialAnimation&&(D=!1),D&&(!(A&&R)||w)&&h.push(...G.map(L=>({animation:L,options:{type:v}})))}if(p.size){const T={};p.forEach(v=>{const C=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),T[v]=C??null}),h.push({animation:T})}let y=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),i=!1,y?e(h):Promise.resolve()}function u(f,c){var d;if(n[f].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(f,c)}),n[f].isActive=c;const h=l(f);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Ho(),i=!0}}}function hd(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Na(e,t):!1}function Ue(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ho(){return{animate:Ue(!0),whileInView:Ue(),whileHover:Ue(),whileTap:Ue(),whileDrag:Ue(),whileFocus:Ue(),exit:Ue()}}class Ne{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pd extends Ne{constructor(e){super(e),e.animationState||(e.animationState=dd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();En(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let md=0;class gd extends Ne{constructor(){super(...arguments),this.id=md++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const yd={animation:{Feature:pd},exit:{Feature:gd}};function Ft(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function $t(t){return{point:{x:t.pageX,y:t.pageY}}}const vd=t=>e=>Zi(e)&&t(e,$t(e));function It(t,e,n,i){return Ft(t,e,vd(n),i)}const Oo=(t,e)=>Math.abs(t-e);function Td(t,e){const n=Oo(t.x,e.x),i=Oo(t.y,e.y);return Math.sqrt(n**2+i**2)}class _l{constructor(e,n,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=qn(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Td(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=h,{timestamp:y}=te;this.history.push({...g,timestamp:y});const{onStart:T,onMove:v}=this.handlers;p||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gn(p,this.transformPagePoint),Y.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=qn(h.type==="pointercancel"?this.lastMoveEventInfo:Gn(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,T),g&&g(h,T)},!Zi(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=o||window;const l=$t(e),u=Gn(l,this.transformPagePoint),{point:f}=u,{timestamp:c}=te;this.history=[{...f,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,qn(u,this.history)),this.removeListeners=qt(It(this.contextWindow,"pointermove",this.handlePointerMove),It(this.contextWindow,"pointerup",this.handlePointerUp),It(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Re(this.updatePoint)}}function Gn(t,e){return e?{point:e(t.point)}:t}function Wo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qn({point:t},e){return{point:t,delta:Wo(t,Sl(e)),offset:Wo(t,Cd(e)),velocity:_d(e,.1)}}function Cd(t){return t[0]}function Sl(t){return t[t.length-1]}function _d(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Sl(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>_e(e)));)n--;if(!i)return{x:0,y:0};const a=Se(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const El=1e-4,Sd=1-El,Ed=1+El,xl=.01,xd=0-xl,Ad=0+xl;function le(t){return t.max-t.min}function Md(t,e,n){return Math.abs(t-e)<=n}function Ko(t,e,n,i=.5){t.origin=i,t.originPoint=z(e.min,e.max,t.origin),t.scale=le(n)/le(e),t.translate=z(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Sd&&t.scale<=Ed||isNaN(t.scale))&&(t.scale=1),(t.translate>=xd&&t.translate<=Ad||isNaN(t.translate))&&(t.translate=0)}function wt(t,e,n,i){Ko(t.x,e.x,n.x,i?i.originX:void 0),Ko(t.y,e.y,n.y,i?i.originY:void 0)}function Yo(t,e,n){t.min=n.min+e.min,t.max=t.min+le(e)}function Pd(t,e,n){Yo(t.x,e.x,n.x),Yo(t.y,e.y,n.y)}function zo(t,e,n){t.min=e.min-n.min,t.max=t.min+le(e)}function Rt(t,e,n){zo(t.x,e.x,n.x),zo(t.y,e.y,n.y)}function Id(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?z(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?z(n,t,i.max):Math.min(t,n)),t}function Zo(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wd(t,{top:e,left:n,bottom:i,right:o}){return{x:Zo(t.x,n,o),y:Zo(t.y,e,i)}}function Xo(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Rd(t,e){return{x:Xo(t.x,e.x),y:Xo(t.y,e.y)}}function Dd(t,e){let n=.5;const i=le(t),o=le(e);return o>i?n=st(e.min,e.max-i,t.min):i>o&&(n=st(t.min,t.max-o,e.min)),Ee(0,1,n)}function kd(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ri=.35;function Nd(t=ri){return t===!1?t=0:t===!0&&(t=ri),{x:Qo(t,"left","right"),y:Qo(t,"top","bottom")}}function Qo(t,e,n){return{min:jo(t,e),max:jo(t,n)}}function jo(t,e){return typeof t=="number"?t:t[e]||0}const es=()=>({translate:0,scale:1,origin:0,originPoint:0}),je=()=>({x:es(),y:es()}),ts=()=>({min:0,max:0}),Q=()=>({x:ts(),y:ts()});function ce(t){return[t("x"),t("y")]}function Al({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Vd({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ld(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function $n(t){return t===void 0||t===1}function ai({scale:t,scaleX:e,scaleY:n}){return!$n(t)||!$n(e)||!$n(n)}function Be(t){return ai(t)||Ml(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ml(t){return ns(t.x)||ns(t.y)}function ns(t){return t&&t!=="0%"}function dn(t,e,n){const i=t-n,o=e*i;return n+o}function is(t,e,n,i,o){return o!==void 0&&(t=dn(t,o,i)),dn(t,n,i)+e}function li(t,e=0,n=1,i,o){t.min=is(t.min,e,n,i,o),t.max=is(t.max,e,n,i,o)}function Pl(t,{x:e,y:n}){li(t.x,e.translate,e.scale,e.originPoint),li(t.y,n.translate,n.scale,n.originPoint)}const os=.999999999999,ss=1.0000000000001;function Fd(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let u=0;u<o;u++){a=n[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&tt(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Pl(t,l)),i&&Be(a.latestValues)&&tt(t,a.latestValues))}e.x<ss&&e.x>os&&(e.x=1),e.y<ss&&e.y>os&&(e.y=1)}function et(t,e){t.min=t.min+e,t.max=t.max+e}function rs(t,e,n,i,o=.5){const a=z(t.min,t.max,o);li(t,e,n,a,i)}function tt(t,e){rs(t.x,e.x,e.scaleX,e.scale,e.originX),rs(t.y,e.y,e.scaleY,e.scale,e.originY)}function Il(t,e){return Al(Ld(t.getBoundingClientRect(),e))}function Ud(t,e,n){const i=Il(t,n),{scroll:o}=e;return o&&(et(i.x,o.offset.x),et(i.y,o.offset.y)),i}const wl=({current:t})=>t?t.ownerDocument.defaultView:null,bd=new WeakMap;class Bd{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Q(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($t(d).point)},a=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rc(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ce(T=>{let v=this.getAxisMotionValue(T).get()||0;if(ge.test(v)){const{projection:C}=this.visualElement;if(C&&C.layout){const S=C.layout.layoutBox[T];S&&(v=le(S)*(parseFloat(v)/100))}}this.originPoint[T]=v}),g&&Y.postRender(()=>g(d,h)),Qn(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=h;if(m&&this.currentDirection===null){this.currentDirection=Gd(T),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),y&&y(d,h)},u=(d,h)=>this.stop(d,h),f=()=>ce(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _l(e,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wl(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Y.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Zt(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=Id(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Xe(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=wd(o.layoutBox,n):this.constraints=!1,this.elastic=Nd(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&ce(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=kd(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xe(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=Ud(i,o.root,this.visualElement.getTransformPagePoint());let l=Rd(o.layout.layoutBox,a);if(n){const u=n(Vd(l));this.hasMutatedConstraints=!!u,u&&(l=Al(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},c=ce(d=>{if(!Zt(d,n,this.currentDirection))return;let h=f&&f[d]||{};l&&(h={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,g={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Qn(this.visualElement,e),i.start(lo(e,i,0,n,this.visualElement,!1))}stopAnimation(){ce(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ce(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ce(n=>{const{drag:i}=this.getProps();if(!Zt(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:u}=o.layout.layoutBox[n];a.set(e[n]-z(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Xe(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ce(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();o[l]=Dd({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ce(l=>{if(!Zt(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:c}=this.constraints[l];u.set(z(f,c,o[l]))})}addListeners(){if(!this.visualElement.current)return;bd.set(this.visualElement,this);const e=this.visualElement.current,n=It(e,"pointerdown",f=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Xe(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Y.read(i);const l=Ft(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:c})=>{this.isDragging&&c&&(ce(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=f[d].translate,h.set(h.get()+f[d].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=ri,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Zt(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Gd(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qd extends Ne{constructor(e){super(e),this.removeGroupControls=ae,this.removeListeners=ae,this.controls=new Bd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ae}unmount(){this.removeGroupControls(),this.removeListeners()}}const as=t=>(e,n)=>{t&&Y.postRender(()=>t(e,n))};class $d extends Ne{constructor(){super(...arguments),this.removePointerDownListener=ae}onPointerDown(e){this.session=new _l(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wl(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:as(e),onStart:as(n),onMove:i,onEnd:(a,l)=>{delete this.session,o&&Y.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=It(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ls(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ct={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(F.test(t))t=parseFloat(t);else return t;const n=ls(t,e.target.x),i=ls(t,e.target.y);return`${n}% ${i}%`}},Jd={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=De.parse(t);if(o.length>5)return i;const a=De.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=f;const c=z(u,f,.5);return typeof o[2+l]=="number"&&(o[2+l]/=c),typeof o[3+l]=="number"&&(o[3+l]/=c),a(o)}};class Hd extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;uc(Od),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),tn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,o||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Y.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ui.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rl(t){const[e,n]=da(),i=k.useContext(wi);return Ce.jsx(Hd,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(Ca),isPresent:e,safeToRemove:n})}const Od={borderRadius:{...Ct,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomLeftRadius:Ct,borderBottomRightRadius:Ct,boxShadow:Jd};function Wd(t,e,n){const i=ie(t)?t:Vt(t);return i.start(lo("",i,e,n)),i.animation}function Kd(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Yd=(t,e)=>t.depth-e.depth;class zd{constructor(){this.children=[],this.isDirty=!1}add(e){Xi(this.children,e),this.isDirty=!0}remove(e){Qi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yd),this.isDirty=!1,this.children.forEach(e)}}function Zd(t,e){const n=ye.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Re(i),t(a-e))};return Y.read(i,!0),()=>Re(i)}const Dl=["TopLeft","TopRight","BottomLeft","BottomRight"],Xd=Dl.length,us=t=>typeof t=="string"?parseFloat(t):t,cs=t=>typeof t=="number"||F.test(t);function Qd(t,e,n,i,o,a){o?(t.opacity=z(0,n.opacity!==void 0?n.opacity:1,jd(i)),t.opacityExit=z(e.opacity!==void 0?e.opacity:1,0,eh(i))):a&&(t.opacity=z(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<Xd;l++){const u=`border${Dl[l]}Radius`;let f=fs(e,u),c=fs(n,u);if(f===void 0&&c===void 0)continue;f||(f=0),c||(c=0),f===0||c===0||cs(f)===cs(c)?(t[u]=Math.max(z(us(f),us(c),i),0),(ge.test(c)||ge.test(f))&&(t[u]+="%")):t[u]=c}(e.rotate||n.rotate)&&(t.rotate=z(e.rotate||0,n.rotate||0,i))}function fs(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const jd=kl(0,.5,Za),eh=kl(.5,.95,ae);function kl(t,e,n){return i=>i<t?0:i>e?1:n(st(t,e,i))}function ds(t,e){t.min=e.min,t.max=e.max}function ue(t,e){ds(t.x,e.x),ds(t.y,e.y)}function hs(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ps(t,e,n,i,o){return t-=e,t=dn(t,1/n,i),o!==void 0&&(t=dn(t,1/o,i)),t}function th(t,e=0,n=1,i=.5,o,a=t,l=t){if(ge.test(e)&&(e=parseFloat(e),e=z(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=z(a.min,a.max,i);t===a&&(u-=e),t.min=ps(t.min,e,n,u,o),t.max=ps(t.max,e,n,u,o)}function ms(t,e,[n,i,o],a,l){th(t,e[n],e[i],e[o],e.scale,a,l)}const nh=["x","scaleX","originX"],ih=["y","scaleY","originY"];function gs(t,e,n,i){ms(t.x,e,nh,n?n.x:void 0,i?i.x:void 0),ms(t.y,e,ih,n?n.y:void 0,i?i.y:void 0)}function ys(t){return t.translate===0&&t.scale===1}function Nl(t){return ys(t.x)&&ys(t.y)}function vs(t,e){return t.min===e.min&&t.max===e.max}function oh(t,e){return vs(t.x,e.x)&&vs(t.y,e.y)}function Ts(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Vl(t,e){return Ts(t.x,e.x)&&Ts(t.y,e.y)}function Cs(t){return le(t.x)/le(t.y)}function _s(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sh{constructor(){this.members=[]}add(e){Xi(this.members,e),e.scheduleRender()}remove(e){if(Qi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rh(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((o||a||l)&&(i=`translate3d(${o}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:g}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),g&&(i+=`skewY(${g}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const Ge={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xt=typeof window<"u"&&window.MotionDebug!==void 0,Jn=["","X","Y","Z"],ah={visibility:"hidden"},Ss=1e3;let lh=0;function Hn(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Ll(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ja(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Y,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Ll(i)}function Fl({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(l={},u=e==null?void 0:e()){this.id=lh++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xt&&(Ge.totalNodes=Ge.resolvedTargetDeltas=Ge.recalculatedProjection=0),this.nodes.forEach(fh),this.nodes.forEach(gh),this.nodes.forEach(yh),this.nodes.forEach(dh),xt&&window.MotionDebug.record(Ge)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new zd)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ji),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Kd(l),this.instance=l;const{layoutId:f,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(c||f)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Zd(p,250),tn.hasAnimatedSinceResize&&(tn.hasAnimatedSinceResize=!1,this.nodes.forEach(xs))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Sh,{onLayoutAnimationStart:T,onLayoutAnimationComplete:v}=d.getProps(),C=!this.targetLayout||!Vl(this.targetLayout,g)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const E={...Ki(y,"layout"),onPlay:T,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||xs(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Re(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vh),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ll(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Es);return}this.isUpdating||this.nodes.forEach(ph),this.isUpdating=!1,this.nodes.forEach(mh),this.nodes.forEach(uh),this.nodes.forEach(ch),this.clearAllSnapshots();const u=ye.now();te.delta=Ee(0,1e3/60,u-te.timestamp),te.timestamp=u,te.isProcessing=!0,Vn.update.process(te),Vn.preRender.process(te),Vn.render.process(te),te.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ui.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hh),this.sharedNodes.forEach(Th)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Y.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Y.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Q(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Nl(this.projectionDelta),f=this.getTransformTemplate(),c=f?f(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;l&&(u||Be(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),Eh(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Q();const f=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(xh))){const{scroll:d}=this.root;d&&(et(f.x,d.offset.x),et(f.y,d.offset.y))}return f}removeElementScroll(l){var u;const f=Q();if(ue(f,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&ue(f,l),et(f.x,h.offset.x),et(f.y,h.offset.y))}return f}applyTransform(l,u=!1){const f=Q();ue(f,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];!u&&d.options.layoutScroll&&d.scroll&&d!==d.root&&tt(f,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Be(d.latestValues)&&tt(f,d.latestValues)}return Be(this.latestValues)&&tt(f,this.latestValues),f}removeTransform(l){const u=Q();ue(u,l);for(let f=0;f<this.path.length;f++){const c=this.path[f];if(!c.instance||!Be(c.latestValues))continue;ai(c.latestValues)&&c.updateSnapshot();const d=Q(),h=c.measurePageBox();ue(d,h),gs(u,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Be(this.latestValues)&&gs(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==te.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==f;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=te.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Q(),this.relativeTargetOrigin=Q(),Rt(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ue(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Q(),this.targetWithTransforms=Q()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pd(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ue(this.target,this.layout.layoutBox),Pl(this.target,this.targetDelta)):ue(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Q(),this.relativeTargetOrigin=Q(),Rt(this.relativeTargetOrigin,this.target,m.target),ue(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xt&&Ge.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ai(this.parent.latestValues)||Ml(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let c=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(c=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===te.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ue(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Fd(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Q());const{target:g}=u;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hs(this.prevProjectionDelta.x,this.projectionDelta.x),hs(this.prevProjectionDelta.y,this.projectionDelta.y)),wt(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!_s(this.projectionDelta.x,this.prevProjectionDelta.x)||!_s(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),xt&&Ge.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=je(),this.projectionDelta=je(),this.projectionDeltaWithTransform=je()}setAnimationOrigin(l,u=!1){const f=this.snapshot,c=f?f.latestValues:{},d={...this.latestValues},h=je();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const p=Q(),m=f?f.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,T=this.getStack(),v=!T||T.members.length<=1,C=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(_h));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const _=E/1e3;As(h.x,l.x,_),As(h.y,l.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rt(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ch(this.relativeTarget,this.relativeTargetOrigin,p,_),S&&oh(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Q()),ue(S,this.relativeTarget)),y&&(this.animationValues=d,Qd(d,c,this.latestValues,_,C,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Re(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Y.update(()=>{tn.hasAnimatedSinceResize=!0,this.currentAnimation=Wd(0,Ss,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ss),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:c,latestValues:d}=l;if(!(!u||!f||!c)){if(this!==l&&this.layout&&c&&Ul(this.options.animationType,this.layout.layoutBox,c.layoutBox)){f=this.target||Q();const h=le(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+h;const p=le(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+p}ue(u,f),tt(u,d),wt(this.projectionDeltaWithTransform,this.layoutCorrected,u,d)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new sh),this.sharedNodes.get(l).add(u);const c=u.options.initialPromotionConfig;u.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const c=this.getStack();c&&c.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const c={};f.z&&Hn("z",l,c,this.animationValues);for(let d=0;d<Jn.length;d++)Hn(`rotate${Jn[d]}`,l,c,this.animationValues),Hn(`skew${Jn[d]}`,l,c,this.animationValues);l.render();for(const d in c)l.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ah;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=jt(l==null?void 0:l.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=jt(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Be(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=rh(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(f=(u=p.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in an){if(p[y]===void 0)continue;const{correct:T,applyTo:v}=an[y],C=c.transform==="none"?p[y]:T(p[y],h);if(v){const S=v.length;for(let E=0;E<S;E++)c[v[E]]=C}else c[y]=C}return this.options.layoutId&&(c.pointerEvents=h===this?jt(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(Es),this.root.sharedNodes.clear()}}}function uh(t){t.updateLayout()}function ch(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?ce(h=>{const p=l?n.measuredBox[h]:n.layoutBox[h],m=le(p);p.min=i[h].min,p.max=p.min+m}):Ul(a,n.layoutBox,i)&&ce(h=>{const p=l?n.measuredBox[h]:n.layoutBox[h],m=le(i[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const u=je();wt(u,i,n.layoutBox);const f=je();l?wt(f,t.applyTransform(o,!0),n.measuredBox):wt(f,i,n.layoutBox);const c=!Nl(u);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const g=Q();Rt(g,n.layoutBox,p.layoutBox);const y=Q();Rt(y,i,m.layoutBox),Vl(g,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:u,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function fh(t){xt&&Ge.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dh(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hh(t){t.clearSnapshot()}function Es(t){t.clearMeasurements()}function ph(t){t.isLayoutDirty=!1}function mh(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xs(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gh(t){t.resolveTargetDelta()}function yh(t){t.calcProjection()}function vh(t){t.resetSkewAndRotation()}function Th(t){t.removeLeadSnapshot()}function As(t,e,n){t.translate=z(e.translate,0,n),t.scale=z(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ms(t,e,n,i){t.min=z(e.min,n.min,i),t.max=z(e.max,n.max,i)}function Ch(t,e,n,i){Ms(t.x,e.x,n.x,i),Ms(t.y,e.y,n.y,i)}function _h(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Sh={duration:.45,ease:[.4,0,.1,1]},Ps=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Is=Ps("applewebkit/")&&!Ps("chrome/")?Math.round:ae;function ws(t){t.min=Is(t.min),t.max=Is(t.max)}function Eh(t){ws(t.x),ws(t.y)}function Ul(t,e,n){return t==="position"||t==="preserve-aspect"&&!Md(Cs(e),Cs(n),.2)}function xh(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ah=Fl({attachResizeListener:(t,e)=>Ft(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),On={current:void 0},bl=Fl({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!On.current){const t=new Ah({});t.mount(window),t.setOptions({layoutScroll:!0}),On.current=t}return On.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Mh={pan:{Feature:$d},drag:{Feature:qd,ProjectionNode:bl,MeasureLayout:Rl}};function Rs(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&Y.postRender(()=>a(e,$t(e)))}class Ph extends Ne{mount(){const{current:e}=this.node;e&&(this.unmount=Ac(e,n=>(Rs(this.node,n,"Start"),i=>Rs(this.node,i,"End"))))}unmount(){}}class Ih extends Ne{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qt(Ft(this.node.current,"focus",()=>this.onFocus()),Ft(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ds(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&Y.postRender(()=>a(e,$t(e)))}class wh extends Ne{mount(){const{current:e}=this.node;e&&(this.unmount=wc(e,n=>(Ds(this.node,n,"Start"),(i,{success:o})=>Ds(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ui=new WeakMap,Wn=new WeakMap,Rh=t=>{const e=ui.get(t.target);e&&e(t)},Dh=t=>{t.forEach(Rh)};function kh({root:t,...e}){const n=t||document;Wn.has(n)||Wn.set(n,{});const i=Wn.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(Dh,{root:t,...e})),i[o]}function Nh(t,e,n){const i=kh(e);return ui.set(t,n),i.observe(t),()=>{ui.delete(t),i.unobserve(t)}}const Vh={some:0,all:1};class Lh extends Ne{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:Vh[o]},u=f=>{const{isIntersecting:c}=f;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(f)};return Nh(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Fh(e,n))&&this.startObserver()}unmount(){}}function Fh({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Uh={inView:{Feature:Lh},tap:{Feature:wh},focus:{Feature:Ih},hover:{Feature:Ph}},bh={layout:{ProjectionNode:bl,MeasureLayout:Rl}},ci={current:null},Bl={current:!1};function Bh(){if(Bl.current=!0,!!ki)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ci.current=t.matches;t.addListener(e),e()}else ci.current=!1}const Gh=[...cl,ne,De],qh=t=>Gh.find(ul(t)),ks=new WeakMap;function $h(t,e,n){for(const i in e){const o=e[i],a=n[i];if(ie(o))t.addValue(i,o);else if(ie(a))t.addValue(i,Vt(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=t.getStaticValue(i);t.addValue(i,Vt(l!==void 0?l:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Ns=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Jh{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=so,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ye.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Y.render(this.render,!1,!0))};const{latestValues:f,renderState:c,onUpdate:d}=l;this.onUpdate=d,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=xn(n),this.isVariantNode=va(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const g=p[m];f[m]!==void 0&&ie(g)&&g.set(f[m],!1)}}mount(e){this.current=e,ks.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Bl.current||Bh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ci.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ks.delete(this.current),this.projection&&this.projection.unmount(),Re(this.notifyUpdate),Re(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ke.has(e),o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Y.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rt){const n=rt[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Q()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ns.length;i++){const o=Ns[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=e[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=$h(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Vt(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(al(o)||Qa(o))?o=parseFloat(o):!qh(o)&&De.test(n)&&(o=ol(e,n)),this.setBaseTarget(e,ie(o)?o.get():o)),ie(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const l=Bi(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(o=l[e])}if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ie(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ji),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Gl extends Jh{constructor(){super(...arguments),this.KeyframeResolver=fl}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ie(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Hh(t){return window.getComputedStyle(t)}class Oh extends Gl{constructor(){super(...arguments),this.type="html",this.renderInstance=Pa}readValueFromInstance(e,n){if(Ke.has(n)){const i=oo(n);return i&&i.default||0}else{const i=Hh(e),o=(xa(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Il(e,n)}build(e,n,i){$i(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Wi(e,n,i)}}class Wh extends Gl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Q}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ke.has(n)){const i=oo(n);return i&&i.default||0}return n=Ia.has(n)?n:Fi(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Da(e,n,i)}build(e,n,i){Ji(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,o){wa(e,n,i,o)}mount(e){this.isSVGTag=Oi(e.tagName),super.mount(e)}}const Kh=(t,e)=>bi(t)?new Wh(e):new Oh(e,{allowProjection:t!==k.Fragment}),Yh=vc({...yd,...Uh,...Mh,...bh},Kh),qE=Nu(Yh);var H;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const a={};for(const l of o)a[l]=l;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),l={};for(const u of a)l[u]=o[u];return t.objectValues(l)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.push(l);return a},t.find=(o,a)=>{for(const l of o)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(H||(H={}));var Vs;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Vs||(Vs={}));const I=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ie=t=>{switch(typeof t){case"undefined":return I.undefined;case"string":return I.string;case"number":return Number.isNaN(t)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(t)?I.array:t===null?I.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?I.promise:typeof Map<"u"&&t instanceof Map?I.map:typeof Set<"u"&&t instanceof Set?I.set:typeof Date<"u"&&t instanceof Date?I.date:I.object;default:return I.unknown}},x=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xe extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},i={_errors:[]},o=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)i._errors.push(n(l));else{let u=i,f=0;for(;f<l.path.length;){const c=l.path[f];f===l.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(l))):u[c]=u[c]||{_errors:[]},u=u[c],f++}}};return o(this),i}static assert(e){if(!(e instanceof xe))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const a=o.path[0];n[a]=n[a]||[],n[a].push(e(o))}else i.push(e(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}xe.create=t=>new xe(t);const fi=(t,e)=>{let n;switch(t.code){case x.invalid_type:t.received===I.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case x.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,H.jsonStringifyReplacer)}`;break;case x.unrecognized_keys:n=`Unrecognized key(s) in object: ${H.joinValues(t.keys,", ")}`;break;case x.invalid_union:n="Invalid input";break;case x.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${H.joinValues(t.options)}`;break;case x.invalid_enum_value:n=`Invalid enum value. Expected ${H.joinValues(t.options)}, received '${t.received}'`;break;case x.invalid_arguments:n="Invalid function arguments";break;case x.invalid_return_type:n="Invalid function return type";break;case x.invalid_date:n="Invalid date";break;case x.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:H.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case x.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case x.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case x.custom:n="Invalid input";break;case x.invalid_intersection_types:n="Intersection results could not be merged";break;case x.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case x.not_finite:n="Number must be finite";break;default:n=e.defaultError,H.assertNever(t)}return{message:n}};let zh=fi;function Zh(){return zh}const Xh=t=>{const{data:e,path:n,errorMaps:i,issueData:o}=t,a=[...n,...o.path||[]],l={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let u="";const f=i.filter(c=>!!c).slice().reverse();for(const c of f)u=c(l,{data:e,defaultError:u}).message;return{...o,path:a,message:u}};function P(t,e){const n=Zh(),i=Xh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===fi?void 0:fi].filter(o=>!!o)});t.common.issues.push(i)}class se{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const o of n){if(o.status==="aborted")return B;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const o of n){const a=await o.key,l=await o.value;i.push({key:a,value:l})}return se.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const o of n){const{key:a,value:l}=o;if(a.status==="aborted"||l.status==="aborted")return B;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(i[a.value]=l.value)}return{status:e.value,value:i}}}const B=Object.freeze({status:"aborted"}),At=t=>({status:"dirty",value:t}),de=t=>({status:"valid",value:t}),Ls=t=>t.status==="aborted",Fs=t=>t.status==="dirty",lt=t=>t.status==="valid",hn=t=>typeof Promise<"u"&&t instanceof Promise;var N;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(N||(N={}));class Te{constructor(e,n,i,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Us=(t,e)=>{if(lt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new xe(t.common.issues);return this._error=n,this._error}}};function $(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:o}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(l,u)=>{const{message:f}=t;return l.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??i??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:f??n??u.defaultError}},description:o}}class J{get description(){return this._def.description}_getType(e){return Ie(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new se,ctx:{common:e.parent.common,data:e.data,parsedType:Ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(hn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)},o=this._parseSync({data:e,path:i.path,parent:i});return Us(i,o)}"~validate"(e){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return lt(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(o=(i=a==null?void 0:a.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>lt(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ie(e)},o=this._parse({data:e,path:i.path,parent:i}),a=await(hn(o)?o:Promise.resolve(o));return Us(i,a)}refine(e,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const l=e(o),u=()=>a.addIssue({code:x.custom,...i(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(e){return new ft({schema:this,typeName:b.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return we.create(this,this._def)}nullable(){return dt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ve.create(this)}promise(){return vn.create(this,this._def)}or(e){return mn.create([this,e],this._def)}and(e){return gn.create(this,e,this._def)}transform(e){return new ft({...$(this._def),schema:this,typeName:b.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new mi({...$(this._def),innerType:this,defaultValue:n,typeName:b.ZodDefault})}brand(){return new Cp({typeName:b.ZodBranded,type:this,...$(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new gi({...$(this._def),innerType:this,catchValue:n,typeName:b.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return uo.create(this,e)}readonly(){return yi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Qh=/^c[^\s-]{8,}$/i,jh=/^[0-9a-z]+$/,ep=/^[0-9A-HJKMNP-TV-Z]{26}$/i,tp=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,np=/^[a-z0-9_-]{21}$/i,ip=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,op=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sp=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Kn;const ap=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,up=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,cp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dp=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ql="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hp=new RegExp(`^${ql}$`);function $l(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function pp(t){return new RegExp(`^${$l(t)}$`)}function mp(t){let e=`${ql}T${$l(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function gp(t,e){return!!((e==="v4"||!e)&&ap.test(t)||(e==="v6"||!e)&&up.test(t))}function yp(t,e){if(!ip.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function vp(t,e){return!!((e==="v4"||!e)&&lp.test(t)||(e==="v6"||!e)&&cp.test(t))}class pe extends J{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==I.string){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_type,expected:I.string,received:a.parsedType}),B}const i=new se;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(o=this._getOrReturnCtx(e,o),l?P(o,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&P(o,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")sp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"email",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Kn||(Kn=new RegExp(rp,"u")),Kn.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"emoji",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")tp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"uuid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")np.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"nanoid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")Qh.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cuid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")jh.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cuid2",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")ep.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"ulid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),P(o,{validation:"url",code:x.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"regex",code:x.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?mp(a).test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?hp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?pp(a).test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?op.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"duration",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?gp(e.data,a.version)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"ip",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?yp(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"jwt",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?vp(e.data,a.version)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cidr",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?fp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"base64",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?dp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"base64url",code:x.invalid_string,message:a.message}),i.dirty()):H.assertNever(a);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(o=>e.test(o),{validation:n,code:x.invalid_string,...N.errToObj(i)})}_addCheck(e){return new pe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...N.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...N.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...N.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...N.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...N.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...N.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...N.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...N.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...N.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...N.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...N.errToObj(n)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new pe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pe.create=t=>new pe({checks:[],typeName:b.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...$(t)});function Tp(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=n>i?n:i,a=Number.parseInt(t.toFixed(o).replace(".","")),l=Number.parseInt(e.toFixed(o).replace(".",""));return a%l/10**o}class Je extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==I.number){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_type,expected:I.number,received:a.parsedType}),B}let i;const o=new se;for(const a of this._def.checks)a.kind==="int"?H.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:x.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?Tp(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:x.not_finite,message:a.message}),o.dirty()):H.assertNever(a);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,N.toString(n))}gt(e,n){return this.setLimit("min",e,!1,N.toString(n))}lte(e,n){return this.setLimit("max",e,!0,N.toString(n))}lt(e,n){return this.setLimit("max",e,!1,N.toString(n))}setLimit(e,n,i,o){return new Je({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:N.toString(o)}]})}_addCheck(e){return new Je({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&H.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Je.create=t=>new Je({checks:[],typeName:b.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$(t)});class He extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==I.bigint)return this._getInvalidInput(e);let i;const o=new se;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):H.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:I.bigint,received:n.parsedType}),B}gte(e,n){return this.setLimit("min",e,!0,N.toString(n))}gt(e,n){return this.setLimit("min",e,!1,N.toString(n))}lte(e,n){return this.setLimit("max",e,!0,N.toString(n))}lt(e,n){return this.setLimit("max",e,!1,N.toString(n))}setLimit(e,n,i,o){return new He({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:N.toString(o)}]})}_addCheck(e){return new He({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}He.create=t=>new He({checks:[],typeName:b.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...$(t)});class pn extends J{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==I.boolean){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:I.boolean,received:i.parsedType}),B}return de(e.data)}}pn.create=t=>new pn({typeName:b.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$(t)});class ut extends J{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==I.date){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_type,expected:I.date,received:a.parsedType}),B}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_date}),B}const i=new se;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):H.assertNever(a);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ut({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ut.create=t=>new ut({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:b.ZodDate,...$(t)});class bs extends J{_parse(e){if(this._getType(e)!==I.symbol){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:I.symbol,received:i.parsedType}),B}return de(e.data)}}bs.create=t=>new bs({typeName:b.ZodSymbol,...$(t)});class Bs extends J{_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:I.undefined,received:i.parsedType}),B}return de(e.data)}}Bs.create=t=>new Bs({typeName:b.ZodUndefined,...$(t)});class Gs extends J{_parse(e){if(this._getType(e)!==I.null){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:I.null,received:i.parsedType}),B}return de(e.data)}}Gs.create=t=>new Gs({typeName:b.ZodNull,...$(t)});class qs extends J{constructor(){super(...arguments),this._any=!0}_parse(e){return de(e.data)}}qs.create=t=>new qs({typeName:b.ZodAny,...$(t)});class di extends J{constructor(){super(...arguments),this._unknown=!0}_parse(e){return de(e.data)}}di.create=t=>new di({typeName:b.ZodUnknown,...$(t)});class ke extends J{_parse(e){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:I.never,received:n.parsedType}),B}}ke.create=t=>new ke({typeName:b.ZodNever,...$(t)});class $s extends J{_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:I.void,received:i.parsedType}),B}return de(e.data)}}$s.create=t=>new $s({typeName:b.ZodVoid,...$(t)});class ve extends J{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),o=this._def;if(n.parsedType!==I.array)return P(n,{code:x.invalid_type,expected:I.array,received:n.parsedType}),B;if(o.exactLength!==null){const l=n.data.length>o.exactLength.value,u=n.data.length<o.exactLength.value;(l||u)&&(P(n,{code:l?x.too_big:x.too_small,minimum:u?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(P(n,{code:x.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(P(n,{code:x.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>o.type._parseAsync(new Te(n,l,n.path,u)))).then(l=>se.mergeArray(i,l));const a=[...n.data].map((l,u)=>o.type._parseSync(new Te(n,l,n.path,u)));return se.mergeArray(i,a)}get element(){return this._def.type}min(e,n){return new ve({...this._def,minLength:{value:e,message:N.toString(n)}})}max(e,n){return new ve({...this._def,maxLength:{value:e,message:N.toString(n)}})}length(e,n){return new ve({...this._def,exactLength:{value:e,message:N.toString(n)}})}nonempty(e){return this.min(1,e)}}ve.create=(t,e)=>new ve({type:t,minLength:null,maxLength:null,exactLength:null,typeName:b.ZodArray,...$(e)});function Ze(t){if(t instanceof ee){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=we.create(Ze(i))}return new ee({...t._def,shape:()=>e})}else return t instanceof ve?new ve({...t._def,type:Ze(t.element)}):t instanceof we?we.create(Ze(t.unwrap())):t instanceof dt?dt.create(Ze(t.unwrap())):t instanceof Oe?Oe.create(t.items.map(e=>Ze(e))):t}class ee extends J{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=H.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==I.object){const c=this._getOrReturnCtx(e);return P(c,{code:x.invalid_type,expected:I.object,received:c.parsedType}),B}const{status:i,ctx:o}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof ke&&this._def.unknownKeys==="strip"))for(const c in o.data)l.includes(c)||u.push(c);const f=[];for(const c of l){const d=a[c],h=o.data[c];f.push({key:{status:"valid",value:c},value:d._parse(new Te(o,h,o.path,c)),alwaysSet:c in o.data})}if(this._def.catchall instanceof ke){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of u)f.push({key:{status:"valid",value:d},value:{status:"valid",value:o.data[d]}});else if(c==="strict")u.length>0&&(P(o,{code:x.unrecognized_keys,keys:u}),i.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of u){const h=o.data[d];f.push({key:{status:"valid",value:d},value:c._parse(new Te(o,h,o.path,d)),alwaysSet:d in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of f){const h=await d.key,p=await d.value;c.push({key:h,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>se.mergeObjectSync(i,c)):se.mergeObjectSync(i,f)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new ee({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,l;const o=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:N.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new ee({...this._def,unknownKeys:"strip"})}passthrough(){return new ee({...this._def,unknownKeys:"passthrough"})}extend(e){return new ee({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ee({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:b.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ee({...this._def,catchall:e})}pick(e){const n={};for(const i of H.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new ee({...this._def,shape:()=>n})}omit(e){const n={};for(const i of H.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new ee({...this._def,shape:()=>n})}deepPartial(){return Ze(this)}partial(e){const n={};for(const i of H.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?n[i]=o:n[i]=o.optional()}return new ee({...this._def,shape:()=>n})}required(e){const n={};for(const i of H.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof we;)a=a._def.innerType;n[i]=a}return new ee({...this._def,shape:()=>n})}keyof(){return Jl(H.objectKeys(this.shape))}}ee.create=(t,e)=>new ee({shape:()=>t,unknownKeys:"strip",catchall:ke.create(),typeName:b.ZodObject,...$(e)});ee.strictCreate=(t,e)=>new ee({shape:()=>t,unknownKeys:"strict",catchall:ke.create(),typeName:b.ZodObject,...$(e)});ee.lazycreate=(t,e)=>new ee({shape:t,unknownKeys:"strip",catchall:ke.create(),typeName:b.ZodObject,...$(e)});class mn extends J{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function o(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new xe(u.ctx.common.issues));return P(n,{code:x.invalid_union,unionErrors:l}),B}if(n.common.async)return Promise.all(i.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(o);{let a;const l=[];for(const f of i){const c={...n,common:{...n.common,issues:[]},parent:null},d=f._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&l.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(f=>new xe(f));return P(n,{code:x.invalid_union,unionErrors:u}),B}}get options(){return this._def.options}}mn.create=(t,e)=>new mn({options:t,typeName:b.ZodUnion,...$(e)});function hi(t,e){const n=Ie(t),i=Ie(e);if(t===e)return{valid:!0,data:t};if(n===I.object&&i===I.object){const o=H.objectKeys(e),a=H.objectKeys(t).filter(u=>o.indexOf(u)!==-1),l={...t,...e};for(const u of a){const f=hi(t[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(n===I.array&&i===I.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],f=hi(l,u);if(!f.valid)return{valid:!1};o.push(f.data)}return{valid:!0,data:o}}else return n===I.date&&i===I.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gn extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=(a,l)=>{if(Ls(a)||Ls(l))return B;const u=hi(a.value,l.value);return u.valid?((Fs(a)||Fs(l))&&n.dirty(),{status:n.value,value:u.data}):(P(i,{code:x.invalid_intersection_types}),B)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,l])=>o(a,l)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}gn.create=(t,e,n)=>new gn({left:t,right:e,typeName:b.ZodIntersection,...$(n)});class Oe extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.array)return P(i,{code:x.invalid_type,expected:I.array,received:i.parsedType}),B;if(i.data.length<this._def.items.length)return P(i,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&i.data.length>this._def.items.length&&(P(i,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new Te(i,l,i.path,u)):null}).filter(l=>!!l);return i.common.async?Promise.all(a).then(l=>se.mergeArray(n,l)):se.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Oe({...this._def,rest:e})}}Oe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oe({items:t,typeName:b.ZodTuple,rest:null,...$(e)})};class yn extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.object)return P(i,{code:x.invalid_type,expected:I.object,received:i.parsedType}),B;const o=[],a=this._def.keyType,l=this._def.valueType;for(const u in i.data)o.push({key:a._parse(new Te(i,u,i.path,u)),value:l._parse(new Te(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?se.mergeObjectAsync(n,o):se.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof J?new yn({keyType:e,valueType:n,typeName:b.ZodRecord,...$(i)}):new yn({keyType:pe.create(),valueType:e,typeName:b.ZodRecord,...$(n)})}}class Js extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.map)return P(i,{code:x.invalid_type,expected:I.map,received:i.parsedType}),B;const o=this._def.keyType,a=this._def.valueType,l=[...i.data.entries()].map(([u,f],c)=>({key:o._parse(new Te(i,u,i.path,[c,"key"])),value:a._parse(new Te(i,f,i.path,[c,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of l){const c=await f.key,d=await f.value;if(c.status==="aborted"||d.status==="aborted")return B;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(c.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const f of l){const c=f.key,d=f.value;if(c.status==="aborted"||d.status==="aborted")return B;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(c.value,d.value)}return{status:n.value,value:u}}}}Js.create=(t,e,n)=>new Js({valueType:e,keyType:t,typeName:b.ZodMap,...$(n)});class Ut extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.set)return P(i,{code:x.invalid_type,expected:I.set,received:i.parsedType}),B;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(P(i,{code:x.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(P(i,{code:x.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function l(f){const c=new Set;for(const d of f){if(d.status==="aborted")return B;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const u=[...i.data.values()].map((f,c)=>a._parse(new Te(i,f,i.path,c)));return i.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,n){return new Ut({...this._def,minSize:{value:e,message:N.toString(n)}})}max(e,n){return new Ut({...this._def,maxSize:{value:e,message:N.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ut.create=(t,e)=>new Ut({valueType:t,minSize:null,maxSize:null,typeName:b.ZodSet,...$(e)});class pi extends J{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pi.create=(t,e)=>new pi({getter:t,typeName:b.ZodLazy,...$(e)});class Hs extends J{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return P(n,{received:n.data,code:x.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hs.create=(t,e)=>new Hs({value:t,typeName:b.ZodLiteral,...$(e)});function Jl(t,e){return new ct({values:t,typeName:b.ZodEnum,...$(e)})}class ct extends J{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return P(n,{expected:H.joinValues(i),received:n.parsedType,code:x.invalid_type}),B}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return P(n,{received:n.data,code:x.invalid_enum_value,options:i}),B}return de(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ct.create(e,{...this._def,...n})}exclude(e,n=this._def){return ct.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}ct.create=Jl;class Os extends J{_parse(e){const n=H.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==I.string&&i.parsedType!==I.number){const o=H.objectValues(n);return P(i,{expected:H.joinValues(o),received:i.parsedType,code:x.invalid_type}),B}if(this._cache||(this._cache=new Set(H.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=H.objectValues(n);return P(i,{received:i.data,code:x.invalid_enum_value,options:o}),B}return de(e.data)}get enum(){return this._def.values}}Os.create=(t,e)=>new Os({values:t,typeName:b.ZodNativeEnum,...$(e)});class vn extends J{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==I.promise&&n.common.async===!1)return P(n,{code:x.invalid_type,expected:I.promise,received:n.parsedType}),B;const i=n.parsedType===I.promise?n.data:Promise.resolve(n.data);return de(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vn.create=(t,e)=>new vn({type:t,typeName:b.ZodPromise,...$(e)});class ft extends J{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===b.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:l=>{P(i,l),l.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const l=o.transform(i.data,a);if(i.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return B;const f=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return f.status==="aborted"?B:f.status==="dirty"||n.value==="dirty"?At(f.value):f});{if(n.value==="aborted")return B;const u=this._def.schema._parseSync({data:l,path:i.path,parent:i});return u.status==="aborted"?B:u.status==="dirty"||n.value==="dirty"?At(u.value):u}}if(o.type==="refinement"){const l=u=>{const f=o.refinement(u,a);if(i.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?B:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?B:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(o.type==="transform")if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!lt(l))return B;const u=o.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>lt(l)?Promise.resolve(o.transform(l.value,a)).then(u=>({status:n.value,value:u})):B);H.assertNever(o)}}ft.create=(t,e,n)=>new ft({schema:t,typeName:b.ZodEffects,effect:e,...$(n)});ft.createWithPreprocess=(t,e,n)=>new ft({schema:e,effect:{type:"preprocess",transform:t},typeName:b.ZodEffects,...$(n)});class we extends J{_parse(e){return this._getType(e)===I.undefined?de(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}we.create=(t,e)=>new we({innerType:t,typeName:b.ZodOptional,...$(e)});class dt extends J{_parse(e){return this._getType(e)===I.null?de(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dt.create=(t,e)=>new dt({innerType:t,typeName:b.ZodNullable,...$(e)});class mi extends J{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===I.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}mi.create=(t,e)=>new mi({innerType:t,typeName:b.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$(e)});class gi extends J{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return hn(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xe(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new xe(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}gi.create=(t,e)=>new gi({innerType:t,typeName:b.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$(e)});class Ws extends J{_parse(e){if(this._getType(e)!==I.nan){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:I.nan,received:i.parsedType}),B}return{status:"valid",value:e.data}}}Ws.create=t=>new Ws({typeName:b.ZodNaN,...$(t)});class Cp extends J{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class uo extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?B:a.status==="dirty"?(n.dirty(),At(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?B:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,n){return new uo({in:e,out:n,typeName:b.ZodPipeline})}}class yi extends J{_parse(e){const n=this._def.innerType._parse(e),i=o=>(lt(o)&&(o.value=Object.freeze(o.value)),o);return hn(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:b.ZodReadonly,...$(e)});var b;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(b||(b={}));const be=pe.create,Ks=Je.create;He.create;const _p=pn.create;ut.create;const Ys=di.create;ke.create;const Mt=ve.create,Sp=ee.create,Ep=mn.create;gn.create;Oe.create;const xp=yn.create,Ap=pi.create,Mp=ct.create;vn.create;we.create;dt.create;const ze={string:t=>pe.create({...t,coerce:!0}),number:t=>Je.create({...t,coerce:!0}),boolean:t=>pn.create({...t,coerce:!0}),bigint:t=>He.create({...t,coerce:!0}),date:t=>ut.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Pp,Ip;function wp(){return{geminiUrl:Pp,vertexUrl:Ip}}function Rp(t,e,n){var i,o,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const l=wp();return t.vertexai?(o=l.vertexUrl)!==null&&o!==void 0?o:e:(a=l.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ye{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function r(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];r(d,e.slice(a+1),n[c])}else for(const c of f)r(c,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];r(f[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(l=>s(l,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zs;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zs||(zs={}));var Zs;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Zs||(Zs={}));var me;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(me||(me={}));var Xs;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Xs||(Xs={}));var Qs;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Qs||(Qs={}));var js;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(js||(js={}));var er;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(er||(er={}));var tr;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(tr||(tr={}));var nr;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(nr||(nr={}));var ir;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ir||(ir={}));var or;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(or||(or={}));var sr;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(sr||(sr={}));var rr;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(rr||(rr={}));var ar;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ar||(ar={}));var lr;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(lr||(lr={}));var ur;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ur||(ur={}));var Tn;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Tn||(Tn={}));var cr;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cr||(cr={}));var vi;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vi||(vi={}));var fr;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fr||(fr={}));var dr;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(dr||(dr={}));var hr;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(hr||(hr={}));var pr;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(pr||(pr={}));var mr;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(mr||(mr={}));var gr;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gr||(gr={}));var yr;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(yr||(yr={}));var vr;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(vr||(vr={}));var Tr;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Tr||(Tr={}));var Cr;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Cr||(Cr={}));var _r;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_r||(_r={}));var Sr;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sr||(Sr={}));var Er;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Er||(Er={}));var xr;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(xr||(xr={}));var Ar;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Ar||(Ar={}));var Mr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Mr||(Mr={}));var Pr;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Pr||(Pr={}));var Ir;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ir||(Ir={}));var wr;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(wr||(wr={}));var Rr;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Rr||(Rr={}));var Dr;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Dr||(Dr={}));var kr;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kr||(kr={}));var nt;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(nt||(nt={}));class Ti{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class _t{get text(){var e,n,i,o,a,l,u,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const h=[];for(const p of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[m,g]of Object.entries(p))m!=="text"&&m!=="thought"&&(g!==null||g!==void 0)&&h.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,c+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,i,o,a,l,u,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const h of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[p,m]of Object.entries(h))p!=="inlineData"&&(m!==null||m!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,i,o,a,l,u,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,i,o,a,l,u,f,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,i,o,a,l,u,f,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class Nr{}class Vr{}class Dp{}class kp{}class Lr{}class Fr{}class Ur{}class Np{}class br{}class Br{}class Gr{}class Vp{}class Lp{}class Fp{}class qr{}class Up{get text(){var e,n,i;let o="",a=!1;const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class bp{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hl(t,e){const n=O(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Ol(t){return Array.isArray(t)?t.map(e=>Cn(e)):[Cn(t)]}function Cn(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Wl(t){const e=Cn(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kl(t){const e=Cn(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $r(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Yl(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>$r(e)):[$r(t)]}function Ci(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Jr(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Hr(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function oe(t){if(t==null)throw new Error("ContentUnion is required");return Ci(t)?t:{role:"user",parts:Yl(t)}}function zl(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=oe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=oe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>oe(n)):[oe(e)]}function fe(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Jr(t)||Hr(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[oe(t)]}const e=[],n=[],i=Ci(t[0]);for(const o of t){const a=Ci(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(Jr(o)||Hr(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Yl(n)}),e}const Bp=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Or=Mp(["string","number","integer","object","array","boolean","null"]),Gp=Ep([Or,Mt(Or)]);function qp(t=!0){const e=Ap(()=>{const n=Sp({type:Gp.optional(),format:be().optional(),title:be().optional(),description:be().optional(),default:Ys().optional(),items:e.optional(),minItems:ze.string().optional(),maxItems:ze.string().optional(),enum:Mt(Ys()).optional(),properties:xp(be(),e).optional(),required:Mt(be()).optional(),minProperties:ze.string().optional(),maxProperties:ze.string().optional(),propertyOrdering:Mt(be()).optional(),minimum:Ks().optional(),maximum:Ks().optional(),minLength:ze.string().optional(),maxLength:ze.string().optional(),pattern:be().optional(),anyOf:Mt(e).optional(),additionalProperties:_p().optional()});return t?n.strict():n});return e}function $p(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(me).includes(n[0].toUpperCase())?n[0].toUpperCase():me.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(me).includes(i.toUpperCase())?i.toUpperCase():me.TYPE_UNSPECIFIED})}}function it(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&$p(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(me).includes(u.toUpperCase())?u.toUpperCase():me.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=it(u);else if(i.includes(l)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push(it(c))}e[l]=f}else if(o.includes(l)){const f={};for(const[c,d]of Object.entries(u))f[c]=it(d);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function bt(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=qp().parse(t);return it(e)}else return it(t)}function co(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function fo(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function mt(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=bt(e.parameters)),e.response&&(e.response=bt(e.response));return t}function gt(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Jp(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Ae(t,e){if(typeof e!="string")throw new Error("name must be a string");return Jp(t,e,"cachedContents")}function Zl(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Me(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Hp(t){return t!=null&&typeof t=="object"&&"name"in t}function Op(t){return t!=null&&typeof t=="object"&&"video"in t}function Wp(t){return t!=null&&typeof t=="object"&&"uri"in t}function Xl(t){var e;let n;if(Hp(t)&&(n=t.name),!(Wp(t)&&(n=t.uri,n===void 0))&&!(Op(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ql(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function jl(t){for(const e of["models","tunedModels","publisherModels"])if(Kp(t,e))return t[e];return[]}function Kp(t,e){return t!==null&&typeof t=="object"&&e in t}function Yp(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:it(Pn(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function zp(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const l=Yp(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Zp(t){const e=[];for(const n of t)e.push(Pn(n));return e}function Xp(t){const e={};for(const[n,i]of Object.entries(t)){const o=i;e[n]=Pn(o)}return e}function Pn(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[a,l]of Object.entries(t))if(e.has(a))o[a]=Pn(l);else if(n.has(a))o[a]=Zp(l);else if(i.has(a))o[a]=Xp(l);else if(a==="type"){const u=l.toUpperCase();o[a]=Object.values(me).includes(u)?u:me.TYPE_UNSPECIFIED}else Bp.has(a)&&(o[a]=l);return o}function eu(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Qp(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yt(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function tu(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jp(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function em(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function tm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function nm(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],jp(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],em(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],tm(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function nu(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>nm(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function im(t){const e={},n=s(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&r(e,["default"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["enum"]);a!=null&&r(e,["enum"],a);const l=s(t,["example"]);l!=null&&r(e,["example"],l);const u=s(t,["format"]);u!=null&&r(e,["format"],u);const f=s(t,["items"]);f!=null&&r(e,["items"],f);const c=s(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=s(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const h=s(t,["maxProperties"]);h!=null&&r(e,["maxProperties"],h);const p=s(t,["maximum"]);p!=null&&r(e,["maximum"],p);const m=s(t,["minItems"]);m!=null&&r(e,["minItems"],m);const g=s(t,["minLength"]);g!=null&&r(e,["minLength"],g);const y=s(t,["minProperties"]);y!=null&&r(e,["minProperties"],y);const T=s(t,["minimum"]);T!=null&&r(e,["minimum"],T);const v=s(t,["nullable"]);v!=null&&r(e,["nullable"],v);const C=s(t,["pattern"]);C!=null&&r(e,["pattern"],C);const S=s(t,["properties"]);S!=null&&r(e,["properties"],S);const E=s(t,["propertyOrdering"]);E!=null&&r(e,["propertyOrdering"],E);const _=s(t,["required"]);_!=null&&r(e,["required"],_);const A=s(t,["title"]);A!=null&&r(e,["title"],A);const R=s(t,["type"]);return R!=null&&r(e,["type"],R),e}function om(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&r(e,["category"],n);const i=s(t,["threshold"]);return i!=null&&r(e,["threshold"],i),e}function sm(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function rm(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function am(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],rm(n)),e}function lm(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function um(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],lm(n)),e}function cm(){return{}}function fm(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>sm(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],am(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],um(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],cm());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function dm(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function hm(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function pm(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],hm(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function mm(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],dm(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],pm(i)),e}function gm(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function iu(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],gm(n)),e}function ym(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],iu(i)),e}function vm(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ym(o))),r(e,["speakerVoiceConfigs"],i)}return e}function Tm(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],iu(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],vm(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function Cm(t){const e={},n=s(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&r(e,["thinkingBudget"],i),e}function _m(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],nu(oe(o)));const a=s(e,["temperature"]);a!=null&&r(i,["temperature"],a);const l=s(e,["topP"]);l!=null&&r(i,["topP"],l);const u=s(e,["topK"]);u!=null&&r(i,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&r(i,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&r(i,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const h=s(e,["responseLogprobs"]);h!=null&&r(i,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&r(i,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&r(i,["frequencyPenalty"],g);const y=s(e,["seed"]);y!=null&&r(i,["seed"],y);const T=s(e,["responseMimeType"]);T!=null&&r(i,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&r(i,["responseSchema"],im(bt(v)));const C=s(e,["responseJsonSchema"]);if(C!=null&&r(i,["responseJsonSchema"],C),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let q=S;Array.isArray(q)&&(q=q.map(j=>om(j))),r(n,["safetySettings"],q)}const E=s(e,["tools"]);if(n!==void 0&&E!=null){let q=gt(E);Array.isArray(q)&&(q=q.map(j=>fm(mt(j)))),r(n,["tools"],q)}const _=s(e,["toolConfig"]);if(n!==void 0&&_!=null&&r(n,["toolConfig"],mm(_)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&r(n,["cachedContent"],Ae(t,A));const R=s(e,["responseModalities"]);R!=null&&r(i,["responseModalities"],R);const D=s(e,["mediaResolution"]);D!=null&&r(i,["mediaResolution"],D);const w=s(e,["speechConfig"]);if(w!=null&&r(i,["speechConfig"],Tm(co(w))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=s(e,["thinkingConfig"]);return G!=null&&r(i,["thinkingConfig"],Cm(G)),i}function Sm(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["request","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=fe(o);Array.isArray(l)&&(l=l.map(u=>nu(u))),r(n,["request","contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["request","generationConfig"],_m(t,a,n)),n}function Em(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(e,["fileName"]);i!=null&&r(n,["fileName"],i);const o=s(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Sm(t,l))),r(n,["requests","requests"],a)}return n}function xm(t,e){const n={},i=s(t,["displayName"]);if(e!==void 0&&i!=null&&r(e,["batch","displayName"],i),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Am(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["src"]);o!=null&&r(n,["batch","inputConfig"],Em(t,eu(t,o)));const a=s(e,["config"]);return a!=null&&r(n,["config"],xm(a,n)),n}function Mm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],yt(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Pm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],yt(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Im(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);if(e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function wm(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],Im(n,e)),e}function Rm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],yt(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Dm(t){const e={},n=s(t,["format"]);n!=null&&r(e,["instancesFormat"],n);const i=s(t,["gcsUri"]);i!=null&&r(e,["gcsSource","uris"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&r(e,["bigquerySource","inputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function km(t){const e={},n=s(t,["format"]);n!=null&&r(e,["predictionsFormat"],n);const i=s(t,["gcsUri"]);i!=null&&r(e,["gcsDestination","outputUriPrefix"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&r(e,["bigqueryDestination","outputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Nm(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&r(e,["displayName"],i);const o=s(t,["dest"]);return e!==void 0&&o!=null&&r(e,["outputConfig"],km(Qp(o))),n}function Vm(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["model"],O(t,i));const o=s(e,["src"]);o!=null&&r(n,["inputConfig"],Dm(eu(t,o)));const a=s(e,["config"]);return a!=null&&r(n,["config"],Nm(a,n)),n}function Lm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],yt(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Fm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],yt(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Um(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&r(e,["_query","pageToken"],o);const a=s(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function bm(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],Um(n,e)),e}function Bm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],yt(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function ou(){return{}}function Gm(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function qm(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function $m(t){const e={},n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Jm(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Gm(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],qm(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],$m(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Hm(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Jm(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function Om(t){const e={},n=s(t,["citationSources"]);return n!=null&&r(e,["citations"],n),e}function Wm(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function Km(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Wm(o))),r(e,["urlMetadata"],i)}return e}function Ym(t){const e={},n=s(t,["content"]);n!=null&&r(e,["content"],Hm(n));const i=s(t,["citationMetadata"]);i!=null&&r(e,["citationMetadata"],Om(i));const o=s(t,["tokenCount"]);o!=null&&r(e,["tokenCount"],o);const a=s(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=s(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],Km(l));const u=s(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=s(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&r(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const h=s(t,["safetyRatings"]);return h!=null&&r(e,["safetyRatings"],h),e}function zm(t){const e={},n=s(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Ym(u))),r(e,["candidates"],l)}const i=s(t,["modelVersion"]);i!=null&&r(e,["modelVersion"],i);const o=s(t,["promptFeedback"]);o!=null&&r(e,["promptFeedback"],o);const a=s(t,["usageMetadata"]);return a!=null&&r(e,["usageMetadata"],a),e}function Zm(t){const e={},n=s(t,["response"]);return n!=null&&r(e,["response"],zm(n)),s(t,["error"])!=null&&r(e,["error"],ou()),e}function Xm(t){const e={},n=s(t,["responsesFile"]);n!=null&&r(e,["fileName"],n);const i=s(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Zm(a))),r(e,["inlinedResponses"],o)}return e}function _i(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata","displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["metadata","state"]);o!=null&&r(e,["state"],tu(o));const a=s(t,["metadata","createTime"]);a!=null&&r(e,["createTime"],a);const l=s(t,["metadata","endTime"]);l!=null&&r(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&r(e,["updateTime"],u);const f=s(t,["metadata","model"]);f!=null&&r(e,["model"],f);const c=s(t,["metadata","output"]);return c!=null&&r(e,["dest"],Xm(c)),e}function Qm(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>_i(a))),r(e,["batchJobs"],o)}return e}function jm(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["done"]);return i!=null&&r(e,["done"],i),s(t,["error"])!=null&&r(e,["error"],ou()),e}function su(t){const e={},n=s(t,["details"]);n!=null&&r(e,["details"],n);const i=s(t,["code"]);i!=null&&r(e,["code"],i);const o=s(t,["message"]);return o!=null&&r(e,["message"],o),e}function eg(t){const e={},n=s(t,["instancesFormat"]);n!=null&&r(e,["format"],n);const i=s(t,["gcsSource","uris"]);i!=null&&r(e,["gcsUri"],i);const o=s(t,["bigquerySource","inputUri"]);return o!=null&&r(e,["bigqueryUri"],o),e}function tg(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&r(e,["format"],n);const i=s(t,["gcsDestination","outputUriPrefix"]);i!=null&&r(e,["gcsUri"],i);const o=s(t,["bigqueryDestination","outputUri"]);return o!=null&&r(e,["bigqueryUri"],o),e}function Si(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["state"]);o!=null&&r(e,["state"],tu(o));const a=s(t,["error"]);a!=null&&r(e,["error"],su(a));const l=s(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&r(e,["startTime"],u);const f=s(t,["endTime"]);f!=null&&r(e,["endTime"],f);const c=s(t,["updateTime"]);c!=null&&r(e,["updateTime"],c);const d=s(t,["model"]);d!=null&&r(e,["model"],d);const h=s(t,["inputConfig"]);h!=null&&r(e,["src"],eg(h));const p=s(t,["outputConfig"]);return p!=null&&r(e,["dest"],tg(p)),e}function ng(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Si(a))),r(e,["batchJobs"],o)}return e}function ig(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["done"]);i!=null&&r(e,["done"],i);const o=s(t,["error"]);return o!=null&&r(e,["error"],su(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var We;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(We||(We={}));class Jt{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};i?typeof i=="object"?l=Object.assign({},i):l=i:l={config:{}},l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class og extends Ye{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Jt(We.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Vm(this.apiClient,e);return u=V("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Si(d))}else{const c=Am(this.apiClient,e);return u=V("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>_i(d))}}async get(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Lm(this.apiClient,e);return u=V("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Si(d))}else{const c=Mm(this.apiClient,e);return u=V("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>_i(d))}}async cancel(e){var n,i,o,a;let l="",u={};if(this.apiClient.isVertexAI()){const f=Fm(this.apiClient,e);l=V("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=Pm(this.apiClient,e);l=V("batches/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=bm(e);return u=V("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=ng(d),p=new qr;return Object.assign(p,h),p})}else{const c=wm(e);return u=V("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=Qm(d),p=new qr;return Object.assign(p,h),p})}}async delete(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Bm(this.apiClient,e);return u=V("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>ig(d))}else{const c=Rm(this.apiClient,e);return u=V("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>jm(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sg(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function rg(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function ag(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function lg(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],sg(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],rg(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],ag(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Wr(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>lg(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function ug(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function cg(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function fg(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],cg(n)),e}function dg(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function hg(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],dg(n)),e}function pg(){return{}}function mg(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>ug(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],fg(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],hg(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],pg());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function gg(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function yg(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function vg(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],yg(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function Tg(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],gg(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],vg(i)),e}function Cg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&r(e,["expireTime"],o);const a=s(t,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let d=fe(l);Array.isArray(d)&&(d=d.map(h=>Wr(h))),r(e,["contents"],d)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&r(e,["systemInstruction"],Wr(oe(u)));const f=s(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>mg(h))),r(e,["tools"],d)}const c=s(t,["toolConfig"]);if(e!==void 0&&c!=null&&r(e,["toolConfig"],Tg(c)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _g(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["model"],Hl(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],Cg(o,n)),n}function Sg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ae(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Eg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ae(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function xg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&r(e,["expireTime"],o),n}function Ag(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ae(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],xg(o,n)),n}function Mg(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),n}function Pg(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],Mg(n,e)),e}function Ig(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function wg(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Rg(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Dg(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Ig(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],wg(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Rg(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Kr(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Dg(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function kg(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&r(e,["description"],n);const i=s(t,["name"]);i!=null&&r(e,["name"],i);const o=s(t,["parameters"]);o!=null&&r(e,["parameters"],o);const a=s(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=s(t,["response"]);l!=null&&r(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function Ng(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function Vg(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Ng(n)),e}function Lg(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function Fg(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],Lg(n)),e}function Ug(){return{}}function bg(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function Bg(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],bg(n));const i=s(t,["authType"]);i!=null&&r(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&r(e,["googleServiceAccountConfig"],o);const a=s(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=s(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function Gg(t){const e={},n=s(t,["authConfig"]);return n!=null&&r(e,["authConfig"],Bg(n)),e}function qg(){return{}}function $g(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>kg(p))),r(e,["functionDeclarations"],h)}const i=s(t,["retrieval"]);i!=null&&r(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],Vg(o));const a=s(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],Fg(a)),s(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],Ug());const u=s(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],Gg(u)),s(t,["urlContext"])!=null&&r(e,["urlContext"],qg());const c=s(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=s(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function Jg(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function Hg(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function Og(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],Hg(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function Wg(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],Jg(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],Og(i)),e}function Kg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&r(e,["expireTime"],o);const a=s(t,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let h=fe(l);Array.isArray(h)&&(h=h.map(p=>Kr(p))),r(e,["contents"],h)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&r(e,["systemInstruction"],Kr(oe(u)));const f=s(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>$g(p))),r(e,["tools"],h)}const c=s(t,["toolConfig"]);e!==void 0&&c!=null&&r(e,["toolConfig"],Wg(c));const d=s(t,["kmsKeyName"]);return e!==void 0&&d!=null&&r(e,["encryption_spec","kmsKeyName"],d),n}function Yg(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["model"],Hl(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],Kg(o,n)),n}function zg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ae(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Zg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ae(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Xg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&r(e,["expireTime"],o),n}function Qg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ae(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],Xg(o,n)),n}function jg(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),n}function ey(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],jg(n,e)),e}function nn(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["model"]);o!=null&&r(e,["model"],o);const a=s(t,["createTime"]);a!=null&&r(e,["createTime"],a);const l=s(t,["updateTime"]);l!=null&&r(e,["updateTime"],l);const u=s(t,["expireTime"]);u!=null&&r(e,["expireTime"],u);const f=s(t,["usageMetadata"]);return f!=null&&r(e,["usageMetadata"],f),e}function ty(){return{}}function ny(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>nn(a))),r(e,["cachedContents"],o)}return e}function on(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["model"]);o!=null&&r(e,["model"],o);const a=s(t,["createTime"]);a!=null&&r(e,["createTime"],a);const l=s(t,["updateTime"]);l!=null&&r(e,["updateTime"],l);const u=s(t,["expireTime"]);u!=null&&r(e,["expireTime"],u);const f=s(t,["usageMetadata"]);return f!=null&&r(e,["usageMetadata"],f),e}function iy(){return{}}function oy(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>on(a))),r(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sy extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Jt(We.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Yg(this.apiClient,e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>on(d))}else{const c=_g(this.apiClient,e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>nn(d))}}async get(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=zg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>on(d))}else{const c=Sg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>nn(d))}}async delete(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Zg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(()=>{const d=iy(),h=new Br;return Object.assign(h,d),h})}else{const c=Eg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(()=>{const d=ty(),h=new Br;return Object.assign(h,d),h})}}async update(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Qg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>on(d))}else{const c=Ag(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>nn(d))}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ey(e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=oy(d),p=new Gr;return Object.assign(p,h),p})}else{const c=Pg(e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=ny(d),p=new Gr;return Object.assign(p,h),p})}}}function Yr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(t){return this instanceof K?(this.v=t,this):new K(t)}function ot(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(m){return function(g){return Promise.resolve(g).then(m,h)}}function u(m,g){i[m]&&(o[m]=function(y){return new Promise(function(T,v){a.push([m,y,T,v])>1||f(m,y)})},g&&(o[m]=g(o[m])))}function f(m,g){try{c(i[m](g))}catch(y){p(a[0][3],y)}}function c(m){m.value instanceof K?Promise.resolve(m.value.v).then(d,h):p(a[0][2],m)}function d(m){f("next",m)}function h(m){f("throw",m)}function p(m,g){m(g),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Dt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Yr=="function"?Yr(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(l){return new Promise(function(u,f){l=t[a](l),o(u,f,l.done,l.value)})}}function o(a,l,u,f){Promise.resolve(f).then(function(c){a({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ry(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ru(n)}function ru(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function ay(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zr(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!ru(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class ly{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new uy(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class uy{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),ay(a)}async sendMessage(e){var n;await this.sendPromise;const i=oe(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const f=await o,c=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,d=f.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(u=d.slice(h))!==null&&u!==void 0?u:[]);const m=c?[c]:[];this.recordHistory(i,m,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=oe(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?zr(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return ot(this,arguments,function*(){var l,u,f,c;const d=[];try{for(var h=!0,p=Dt(e),m;m=yield K(p.next()),l=m.done,!l;h=!0){c=m.value,h=!1;const g=c;if(ry(g)){const y=(o=(i=g.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;y!==void 0&&d.push(y)}yield yield K(g)}}catch(g){u={error:g}}finally{try{!h&&!l&&(f=p.return)&&(yield K(f.call(p)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...zr(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class In extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,In.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cy(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),n}function fy(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],cy(n,e)),e}function dy(t){const e={},n=s(t,["details"]);n!=null&&r(e,["details"],n);const i=s(t,["message"]);i!=null&&r(e,["message"],i);const o=s(t,["code"]);return o!=null&&r(e,["code"],o),e}function hy(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["mimeType"]);o!=null&&r(e,["mimeType"],o);const a=s(t,["sizeBytes"]);a!=null&&r(e,["sizeBytes"],a);const l=s(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(t,["expirationTime"]);u!=null&&r(e,["expirationTime"],u);const f=s(t,["updateTime"]);f!=null&&r(e,["updateTime"],f);const c=s(t,["sha256Hash"]);c!=null&&r(e,["sha256Hash"],c);const d=s(t,["uri"]);d!=null&&r(e,["uri"],d);const h=s(t,["downloadUri"]);h!=null&&r(e,["downloadUri"],h);const p=s(t,["state"]);p!=null&&r(e,["state"],p);const m=s(t,["source"]);m!=null&&r(e,["source"],m);const g=s(t,["videoMetadata"]);g!=null&&r(e,["videoMetadata"],g);const y=s(t,["error"]);return y!=null&&r(e,["error"],dy(y)),e}function py(t){const e={},n=s(t,["file"]);n!=null&&r(e,["file"],hy(n));const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function my(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","file"],Xl(n));const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function gy(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","file"],Xl(n));const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function yy(t){const e={},n=s(t,["details"]);n!=null&&r(e,["details"],n);const i=s(t,["message"]);i!=null&&r(e,["message"],i);const o=s(t,["code"]);return o!=null&&r(e,["code"],o),e}function Ei(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["mimeType"]);o!=null&&r(e,["mimeType"],o);const a=s(t,["sizeBytes"]);a!=null&&r(e,["sizeBytes"],a);const l=s(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(t,["expirationTime"]);u!=null&&r(e,["expirationTime"],u);const f=s(t,["updateTime"]);f!=null&&r(e,["updateTime"],f);const c=s(t,["sha256Hash"]);c!=null&&r(e,["sha256Hash"],c);const d=s(t,["uri"]);d!=null&&r(e,["uri"],d);const h=s(t,["downloadUri"]);h!=null&&r(e,["downloadUri"],h);const p=s(t,["state"]);p!=null&&r(e,["state"],p);const m=s(t,["source"]);m!=null&&r(e,["source"],m);const g=s(t,["videoMetadata"]);g!=null&&r(e,["videoMetadata"],g);const y=s(t,["error"]);return y!=null&&r(e,["error"],yy(y)),e}function vy(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ei(a))),r(e,["files"],o)}return e}function Ty(){return{}}function Cy(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _y extends Ye{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Jt(We.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ei(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fy(e);return a=V("files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=vy(f),d=new Vp;return Object.assign(d,c),d})}}async createInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=py(e);return a=V("upload/v1beta/files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(()=>{const f=Ty(),c=new Lp;return Object.assign(c,f),c})}}async get(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=my(e);return a=V("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>Ei(f))}}async delete(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gy(e);return a=V("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(()=>{const f=Cy(),c=new Fp;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sy(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function Ey(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function au(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],Sy(n)),e}function xy(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],Ey(n)),e}function Ay(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],au(i)),e}function My(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ay(o))),r(e,["speakerVoiceConfigs"],i)}return e}function Py(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],au(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],My(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function Iy(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&r(e,["voiceConfig"],xy(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function wy(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Ry(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Dy(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function ky(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ny(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Vy(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ly(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],wy(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],Dy(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Ny(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Fy(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Ry(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],ky(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Vy(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Uy(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Ly(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function by(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Fy(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function By(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function Gy(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&r(e,["description"],n);const i=s(t,["name"]);i!=null&&r(e,["name"],i);const o=s(t,["parameters"]);o!=null&&r(e,["parameters"],o);const a=s(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=s(t,["response"]);l!=null&&r(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function qy(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function $y(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function Jy(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],qy(n)),e}function Hy(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],$y(n)),e}function Oy(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function Wy(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function Ky(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],Oy(n)),e}function Yy(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],Wy(n)),e}function zy(){return{}}function Zy(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function Xy(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],Zy(n));const i=s(t,["authType"]);i!=null&&r(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&r(e,["googleServiceAccountConfig"],o);const a=s(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=s(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function Qy(t){const e={},n=s(t,["authConfig"]);return n!=null&&r(e,["authConfig"],Xy(n)),e}function jy(){return{}}function ev(){return{}}function tv(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>By(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],Jy(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],Ky(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],jy());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function nv(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Gy(p))),r(e,["functionDeclarations"],h)}const i=s(t,["retrieval"]);i!=null&&r(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],Hy(o));const a=s(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],Yy(a)),s(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],zy());const u=s(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],Qy(u)),s(t,["urlContext"])!=null&&r(e,["urlContext"],ev());const c=s(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=s(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function iv(t){const e={},n=s(t,["handle"]);if(n!=null&&r(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ov(t){const e={},n=s(t,["handle"]);n!=null&&r(e,["handle"],n);const i=s(t,["transparent"]);return i!=null&&r(e,["transparent"],i),e}function Zr(){return{}}function Xr(){return{}}function sv(t){const e={},n=s(t,["disabled"]);n!=null&&r(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&r(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&r(e,["endOfSpeechSensitivity"],o);const a=s(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=s(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function rv(t){const e={},n=s(t,["disabled"]);n!=null&&r(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&r(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&r(e,["endOfSpeechSensitivity"],o);const a=s(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=s(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function av(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],sv(n));const i=s(t,["activityHandling"]);i!=null&&r(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&r(e,["turnCoverage"],o),e}function lv(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],rv(n));const i=s(t,["activityHandling"]);i!=null&&r(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&r(e,["turnCoverage"],o),e}function uv(t){const e={},n=s(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function cv(t){const e={},n=s(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function fv(t){const e={},n=s(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&r(e,["slidingWindow"],uv(i)),e}function dv(t){const e={},n=s(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&r(e,["slidingWindow"],cv(i)),e}function hv(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function pv(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function mv(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&r(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig","responseModalities"],o);const a=s(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=s(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","speechConfig"],Py(fo(h)));const p=s(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],p);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&r(e,["setup","systemInstruction"],Uy(oe(m)));const g=s(t,["tools"]);if(e!==void 0&&g!=null){let _=gt(g);Array.isArray(_)&&(_=_.map(A=>tv(mt(A)))),r(e,["setup","tools"],_)}const y=s(t,["sessionResumption"]);e!==void 0&&y!=null&&r(e,["setup","sessionResumption"],iv(y));const T=s(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&r(e,["setup","inputAudioTranscription"],Zr());const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&r(e,["setup","outputAudioTranscription"],Zr());const C=s(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&r(e,["setup","realtimeInputConfig"],av(C));const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&r(e,["setup","contextWindowCompression"],fv(S));const E=s(t,["proactivity"]);return e!==void 0&&E!=null&&r(e,["setup","proactivity"],hv(E)),n}function gv(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&r(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig","responseModalities"],o);const a=s(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=s(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","speechConfig"],Iy(fo(h)));const p=s(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],p);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&r(e,["setup","systemInstruction"],by(oe(m)));const g=s(t,["tools"]);if(e!==void 0&&g!=null){let _=gt(g);Array.isArray(_)&&(_=_.map(A=>nv(mt(A)))),r(e,["setup","tools"],_)}const y=s(t,["sessionResumption"]);e!==void 0&&y!=null&&r(e,["setup","sessionResumption"],ov(y));const T=s(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&r(e,["setup","inputAudioTranscription"],Xr());const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&r(e,["setup","outputAudioTranscription"],Xr());const C=s(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&r(e,["setup","realtimeInputConfig"],lv(C));const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&r(e,["setup","contextWindowCompression"],dv(S));const E=s(t,["proactivity"]);return e!==void 0&&E!=null&&r(e,["setup","proactivity"],pv(E)),n}function yv(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["setup","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],mv(o,n)),n}function vv(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["setup","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],gv(o,n)),n}function Tv(){return{}}function Cv(){return{}}function _v(){return{}}function Sv(){return{}}function Ev(t){const e={},n=s(t,["media"]);n!=null&&r(e,["mediaChunks"],Ol(n));const i=s(t,["audio"]);i!=null&&r(e,["audio"],Kl(i));const o=s(t,["audioStreamEnd"]);o!=null&&r(e,["audioStreamEnd"],o);const a=s(t,["video"]);a!=null&&r(e,["video"],Wl(a));const l=s(t,["text"]);return l!=null&&r(e,["text"],l),s(t,["activityStart"])!=null&&r(e,["activityStart"],Tv()),s(t,["activityEnd"])!=null&&r(e,["activityEnd"],_v()),e}function xv(t){const e={},n=s(t,["media"]);n!=null&&r(e,["mediaChunks"],Ol(n));const i=s(t,["audio"]);i!=null&&r(e,["audio"],Kl(i));const o=s(t,["audioStreamEnd"]);o!=null&&r(e,["audioStreamEnd"],o);const a=s(t,["video"]);a!=null&&r(e,["video"],Wl(a));const l=s(t,["text"]);return l!=null&&r(e,["text"],l),s(t,["activityStart"])!=null&&r(e,["activityStart"],Cv()),s(t,["activityEnd"])!=null&&r(e,["activityEnd"],Sv()),e}function lu(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["weight"]);return i!=null&&r(e,["weight"],i),e}function Av(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lu(o))),r(e,["weightedPrompts"],i)}return e}function uu(t){const e={},n=s(t,["temperature"]);n!=null&&r(e,["temperature"],n);const i=s(t,["topK"]);i!=null&&r(e,["topK"],i);const o=s(t,["seed"]);o!=null&&r(e,["seed"],o);const a=s(t,["guidance"]);a!=null&&r(e,["guidance"],a);const l=s(t,["bpm"]);l!=null&&r(e,["bpm"],l);const u=s(t,["density"]);u!=null&&r(e,["density"],u);const f=s(t,["brightness"]);f!=null&&r(e,["brightness"],f);const c=s(t,["scale"]);c!=null&&r(e,["scale"],c);const d=s(t,["muteBass"]);d!=null&&r(e,["muteBass"],d);const h=s(t,["muteDrums"]);h!=null&&r(e,["muteDrums"],h);const p=s(t,["onlyBassAndDrums"]);return p!=null&&r(e,["onlyBassAndDrums"],p),e}function Mv(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&r(e,["musicGenerationConfig"],uu(n)),e}function cu(t){const e={},n=s(t,["model"]);return n!=null&&r(e,["model"],n),e}function fu(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lu(o))),r(e,["weightedPrompts"],i)}return e}function xi(t){const e={},n=s(t,["setup"]);n!=null&&r(e,["setup"],cu(n));const i=s(t,["clientContent"]);i!=null&&r(e,["clientContent"],fu(i));const o=s(t,["musicGenerationConfig"]);o!=null&&r(e,["musicGenerationConfig"],uu(o));const a=s(t,["playbackControl"]);return a!=null&&r(e,["playbackControl"],a),e}function Pv(){return{}}function Iv(t){const e={},n=s(t,["sessionId"]);return n!=null&&r(e,["sessionId"],n),e}function wv(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Rv(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Dv(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function kv(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Nv(t){const e={},n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Vv(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Lv(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],wv(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],Dv(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Nv(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Fv(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Rv(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],kv(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Vv(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Uv(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Lv(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function bv(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Fv(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function Qr(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["finished"]);return i!=null&&r(e,["finished"],i),e}function jr(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["finished"]);return i!=null&&r(e,["finished"],i),e}function Bv(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function Gv(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Bv(o))),r(e,["urlMetadata"],i)}return e}function qv(t){const e={},n=s(t,["modelTurn"]);n!=null&&r(e,["modelTurn"],Uv(n));const i=s(t,["turnComplete"]);i!=null&&r(e,["turnComplete"],i);const o=s(t,["interrupted"]);o!=null&&r(e,["interrupted"],o);const a=s(t,["groundingMetadata"]);a!=null&&r(e,["groundingMetadata"],a);const l=s(t,["generationComplete"]);l!=null&&r(e,["generationComplete"],l);const u=s(t,["inputTranscription"]);u!=null&&r(e,["inputTranscription"],Qr(u));const f=s(t,["outputTranscription"]);f!=null&&r(e,["outputTranscription"],Qr(f));const c=s(t,["urlContextMetadata"]);return c!=null&&r(e,["urlContextMetadata"],Gv(c)),e}function $v(t){const e={},n=s(t,["modelTurn"]);n!=null&&r(e,["modelTurn"],bv(n));const i=s(t,["turnComplete"]);i!=null&&r(e,["turnComplete"],i);const o=s(t,["interrupted"]);o!=null&&r(e,["interrupted"],o);const a=s(t,["groundingMetadata"]);a!=null&&r(e,["groundingMetadata"],a);const l=s(t,["generationComplete"]);l!=null&&r(e,["generationComplete"],l);const u=s(t,["inputTranscription"]);u!=null&&r(e,["inputTranscription"],jr(u));const f=s(t,["outputTranscription"]);return f!=null&&r(e,["outputTranscription"],jr(f)),e}function Jv(t){const e={},n=s(t,["id"]);n!=null&&r(e,["id"],n);const i=s(t,["args"]);i!=null&&r(e,["args"],i);const o=s(t,["name"]);return o!=null&&r(e,["name"],o),e}function Hv(t){const e={},n=s(t,["args"]);n!=null&&r(e,["args"],n);const i=s(t,["name"]);return i!=null&&r(e,["name"],i),e}function Ov(t){const e={},n=s(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jv(o))),r(e,["functionCalls"],i)}return e}function Wv(t){const e={},n=s(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hv(o))),r(e,["functionCalls"],i)}return e}function Kv(t){const e={},n=s(t,["ids"]);return n!=null&&r(e,["ids"],n),e}function Yv(t){const e={},n=s(t,["ids"]);return n!=null&&r(e,["ids"],n),e}function Xt(t){const e={},n=s(t,["modality"]);n!=null&&r(e,["modality"],n);const i=s(t,["tokenCount"]);return i!=null&&r(e,["tokenCount"],i),e}function Qt(t){const e={},n=s(t,["modality"]);n!=null&&r(e,["modality"],n);const i=s(t,["tokenCount"]);return i!=null&&r(e,["tokenCount"],i),e}function zv(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&r(e,["promptTokenCount"],n);const i=s(t,["cachedContentTokenCount"]);i!=null&&r(e,["cachedContentTokenCount"],i);const o=s(t,["responseTokenCount"]);o!=null&&r(e,["responseTokenCount"],o);const a=s(t,["toolUsePromptTokenCount"]);a!=null&&r(e,["toolUsePromptTokenCount"],a);const l=s(t,["thoughtsTokenCount"]);l!=null&&r(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&r(e,["totalTokenCount"],u);const f=s(t,["promptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>Xt(m))),r(e,["promptTokensDetails"],p)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>Xt(m))),r(e,["cacheTokensDetails"],p)}const d=s(t,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>Xt(m))),r(e,["responseTokensDetails"],p)}const h=s(t,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>Xt(m))),r(e,["toolUsePromptTokensDetails"],p)}return e}function Zv(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&r(e,["promptTokenCount"],n);const i=s(t,["cachedContentTokenCount"]);i!=null&&r(e,["cachedContentTokenCount"],i);const o=s(t,["candidatesTokenCount"]);o!=null&&r(e,["responseTokenCount"],o);const a=s(t,["toolUsePromptTokenCount"]);a!=null&&r(e,["toolUsePromptTokenCount"],a);const l=s(t,["thoughtsTokenCount"]);l!=null&&r(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&r(e,["totalTokenCount"],u);const f=s(t,["promptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>Qt(g))),r(e,["promptTokensDetails"],m)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Qt(g))),r(e,["cacheTokensDetails"],m)}const d=s(t,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Qt(g))),r(e,["responseTokensDetails"],m)}const h=s(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>Qt(g))),r(e,["toolUsePromptTokensDetails"],m)}const p=s(t,["trafficType"]);return p!=null&&r(e,["trafficType"],p),e}function Xv(t){const e={},n=s(t,["timeLeft"]);return n!=null&&r(e,["timeLeft"],n),e}function Qv(t){const e={},n=s(t,["timeLeft"]);return n!=null&&r(e,["timeLeft"],n),e}function jv(t){const e={},n=s(t,["newHandle"]);n!=null&&r(e,["newHandle"],n);const i=s(t,["resumable"]);i!=null&&r(e,["resumable"],i);const o=s(t,["lastConsumedClientMessageIndex"]);return o!=null&&r(e,["lastConsumedClientMessageIndex"],o),e}function eT(t){const e={},n=s(t,["newHandle"]);n!=null&&r(e,["newHandle"],n);const i=s(t,["resumable"]);i!=null&&r(e,["resumable"],i);const o=s(t,["lastConsumedClientMessageIndex"]);return o!=null&&r(e,["lastConsumedClientMessageIndex"],o),e}function tT(t){const e={};s(t,["setupComplete"])!=null&&r(e,["setupComplete"],Pv());const i=s(t,["serverContent"]);i!=null&&r(e,["serverContent"],qv(i));const o=s(t,["toolCall"]);o!=null&&r(e,["toolCall"],Ov(o));const a=s(t,["toolCallCancellation"]);a!=null&&r(e,["toolCallCancellation"],Kv(a));const l=s(t,["usageMetadata"]);l!=null&&r(e,["usageMetadata"],zv(l));const u=s(t,["goAway"]);u!=null&&r(e,["goAway"],Xv(u));const f=s(t,["sessionResumptionUpdate"]);return f!=null&&r(e,["sessionResumptionUpdate"],jv(f)),e}function nT(t){const e={},n=s(t,["setupComplete"]);n!=null&&r(e,["setupComplete"],Iv(n));const i=s(t,["serverContent"]);i!=null&&r(e,["serverContent"],$v(i));const o=s(t,["toolCall"]);o!=null&&r(e,["toolCall"],Wv(o));const a=s(t,["toolCallCancellation"]);a!=null&&r(e,["toolCallCancellation"],Yv(a));const l=s(t,["usageMetadata"]);l!=null&&r(e,["usageMetadata"],Zv(l));const u=s(t,["goAway"]);u!=null&&r(e,["goAway"],Qv(u));const f=s(t,["sessionResumptionUpdate"]);return f!=null&&r(e,["sessionResumptionUpdate"],eT(f)),e}function iT(){return{}}function oT(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["weight"]);return i!=null&&r(e,["weight"],i),e}function sT(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oT(o))),r(e,["weightedPrompts"],i)}return e}function rT(t){const e={},n=s(t,["temperature"]);n!=null&&r(e,["temperature"],n);const i=s(t,["topK"]);i!=null&&r(e,["topK"],i);const o=s(t,["seed"]);o!=null&&r(e,["seed"],o);const a=s(t,["guidance"]);a!=null&&r(e,["guidance"],a);const l=s(t,["bpm"]);l!=null&&r(e,["bpm"],l);const u=s(t,["density"]);u!=null&&r(e,["density"],u);const f=s(t,["brightness"]);f!=null&&r(e,["brightness"],f);const c=s(t,["scale"]);c!=null&&r(e,["scale"],c);const d=s(t,["muteBass"]);d!=null&&r(e,["muteBass"],d);const h=s(t,["muteDrums"]);h!=null&&r(e,["muteDrums"],h);const p=s(t,["onlyBassAndDrums"]);return p!=null&&r(e,["onlyBassAndDrums"],p),e}function aT(t){const e={},n=s(t,["clientContent"]);n!=null&&r(e,["clientContent"],sT(n));const i=s(t,["musicGenerationConfig"]);return i!=null&&r(e,["musicGenerationConfig"],rT(i)),e}function lT(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);i!=null&&r(e,["mimeType"],i);const o=s(t,["sourceMetadata"]);return o!=null&&r(e,["sourceMetadata"],aT(o)),e}function uT(t){const e={},n=s(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lT(o))),r(e,["audioChunks"],i)}return e}function cT(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["filteredReason"]);return i!=null&&r(e,["filteredReason"],i),e}function fT(t){const e={};s(t,["setupComplete"])!=null&&r(e,["setupComplete"],iT());const i=s(t,["serverContent"]);i!=null&&r(e,["serverContent"],uT(i));const o=s(t,["filteredPrompt"]);return o!=null&&r(e,["filteredPrompt"],cT(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dT(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function hT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function pT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function mT(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],dT(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],hT(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],pT(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function wn(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mT(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function gT(t){const e={},n=s(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&r(e,["default"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["enum"]);a!=null&&r(e,["enum"],a);const l=s(t,["example"]);l!=null&&r(e,["example"],l);const u=s(t,["format"]);u!=null&&r(e,["format"],u);const f=s(t,["items"]);f!=null&&r(e,["items"],f);const c=s(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=s(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const h=s(t,["maxProperties"]);h!=null&&r(e,["maxProperties"],h);const p=s(t,["maximum"]);p!=null&&r(e,["maximum"],p);const m=s(t,["minItems"]);m!=null&&r(e,["minItems"],m);const g=s(t,["minLength"]);g!=null&&r(e,["minLength"],g);const y=s(t,["minProperties"]);y!=null&&r(e,["minProperties"],y);const T=s(t,["minimum"]);T!=null&&r(e,["minimum"],T);const v=s(t,["nullable"]);v!=null&&r(e,["nullable"],v);const C=s(t,["pattern"]);C!=null&&r(e,["pattern"],C);const S=s(t,["properties"]);S!=null&&r(e,["properties"],S);const E=s(t,["propertyOrdering"]);E!=null&&r(e,["propertyOrdering"],E);const _=s(t,["required"]);_!=null&&r(e,["required"],_);const A=s(t,["title"]);A!=null&&r(e,["title"],A);const R=s(t,["type"]);return R!=null&&r(e,["type"],R),e}function yT(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&r(e,["category"],n);const i=s(t,["threshold"]);return i!=null&&r(e,["threshold"],i),e}function vT(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function TT(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function CT(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],TT(n)),e}function _T(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function ST(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],_T(n)),e}function ET(){return{}}function xT(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>vT(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],CT(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],ST(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],ET());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function AT(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function MT(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function PT(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],MT(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function IT(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],AT(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],PT(i)),e}function wT(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function du(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],wT(n)),e}function RT(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],du(i)),e}function DT(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>RT(o))),r(e,["speakerVoiceConfigs"],i)}return e}function kT(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],du(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],DT(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function NT(t){const e={},n=s(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&r(e,["thinkingBudget"],i),e}function VT(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],wn(oe(o)));const a=s(e,["temperature"]);a!=null&&r(i,["temperature"],a);const l=s(e,["topP"]);l!=null&&r(i,["topP"],l);const u=s(e,["topK"]);u!=null&&r(i,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&r(i,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&r(i,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const h=s(e,["responseLogprobs"]);h!=null&&r(i,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&r(i,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&r(i,["frequencyPenalty"],g);const y=s(e,["seed"]);y!=null&&r(i,["seed"],y);const T=s(e,["responseMimeType"]);T!=null&&r(i,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&r(i,["responseSchema"],gT(bt(v)));const C=s(e,["responseJsonSchema"]);if(C!=null&&r(i,["responseJsonSchema"],C),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let q=S;Array.isArray(q)&&(q=q.map(j=>yT(j))),r(n,["safetySettings"],q)}const E=s(e,["tools"]);if(n!==void 0&&E!=null){let q=gt(E);Array.isArray(q)&&(q=q.map(j=>xT(mt(j)))),r(n,["tools"],q)}const _=s(e,["toolConfig"]);if(n!==void 0&&_!=null&&r(n,["toolConfig"],IT(_)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=s(e,["cachedContent"]);n!==void 0&&A!=null&&r(n,["cachedContent"],Ae(t,A));const R=s(e,["responseModalities"]);R!=null&&r(i,["responseModalities"],R);const D=s(e,["mediaResolution"]);D!=null&&r(i,["mediaResolution"],D);const w=s(e,["speechConfig"]);if(w!=null&&r(i,["speechConfig"],kT(co(w))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=s(e,["thinkingConfig"]);return G!=null&&r(i,["thinkingConfig"],NT(G)),i}function ea(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=fe(o);Array.isArray(l)&&(l=l.map(u=>wn(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["generationConfig"],VT(t,a,n)),n}function LT(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&r(e,["requests[]","taskType"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&r(e,["requests[]","title"],o);const a=s(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&r(e,["requests[]","outputDimensionality"],a),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);o!=null&&r(n,["requests[]","content"],zl(t,o));const a=s(e,["config"]);a!=null&&r(n,["config"],LT(a,n));const l=s(e,["model"]);return l!==void 0&&r(n,["requests[]","model"],O(t,l)),n}function UT(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&r(e,["parameters","sampleCount"],i);const o=s(t,["aspectRatio"]);e!==void 0&&o!=null&&r(e,["parameters","aspectRatio"],o);const a=s(t,["guidanceScale"]);if(e!==void 0&&a!=null&&r(e,["parameters","guidanceScale"],a),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&r(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&r(e,["parameters","personGeneration"],u);const f=s(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&r(e,["parameters","includeSafetyAttributes"],f);const c=s(t,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=s(t,["language"]);e!==void 0&&d!=null&&r(e,["parameters","language"],d);const h=s(t,["outputMimeType"]);e!==void 0&&h!=null&&r(e,["parameters","outputOptions","mimeType"],h);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&r(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function bT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["config"]);return a!=null&&r(n,["config"],UT(a,n)),n}function BT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function GT(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&r(n,["_query","pageSize"],o);const a=s(e,["pageToken"]);n!==void 0&&a!=null&&r(n,["_query","pageToken"],a);const l=s(e,["filter"]);n!==void 0&&l!=null&&r(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],Ql(t,u)),i}function qT(t,e){const n={},i=s(e,["config"]);return i!=null&&r(n,["config"],GT(t,i,n)),n}function $T(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&r(e,["description"],o);const a=s(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&r(e,["defaultCheckpointId"],a),n}function JT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],$T(o,n)),n}function HT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function OT(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function WT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=fe(o);Array.isArray(l)&&(l=l.map(u=>wn(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["config"],OT(a)),n}function KT(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&r(e,["bytesBase64Encoded"],Me(n));const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function YT(t,e){const n={},i=s(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&r(e,["parameters","sampleCount"],i),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(t,["durationSeconds"]);if(e!==void 0&&o!=null&&r(e,["parameters","durationSeconds"],o),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(t,["aspectRatio"]);if(e!==void 0&&a!=null&&r(e,["parameters","aspectRatio"],a),s(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=s(t,["personGeneration"]);if(e!==void 0&&l!=null&&r(e,["parameters","personGeneration"],l),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=s(t,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const f=s(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&r(e,["parameters","enhancePrompt"],f),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function zT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["image"]);if(a!=null&&r(n,["instances[0]","image"],KT(a)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=s(e,["config"]);return l!=null&&r(n,["config"],YT(l,n)),n}function ZT(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function XT(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function QT(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function jT(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],ZT(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],XT(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],QT(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function vt(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jT(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function eC(t){const e={},n=s(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&r(e,["default"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["enum"]);a!=null&&r(e,["enum"],a);const l=s(t,["example"]);l!=null&&r(e,["example"],l);const u=s(t,["format"]);u!=null&&r(e,["format"],u);const f=s(t,["items"]);f!=null&&r(e,["items"],f);const c=s(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=s(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const h=s(t,["maxProperties"]);h!=null&&r(e,["maxProperties"],h);const p=s(t,["maximum"]);p!=null&&r(e,["maximum"],p);const m=s(t,["minItems"]);m!=null&&r(e,["minItems"],m);const g=s(t,["minLength"]);g!=null&&r(e,["minLength"],g);const y=s(t,["minProperties"]);y!=null&&r(e,["minProperties"],y);const T=s(t,["minimum"]);T!=null&&r(e,["minimum"],T);const v=s(t,["nullable"]);v!=null&&r(e,["nullable"],v);const C=s(t,["pattern"]);C!=null&&r(e,["pattern"],C);const S=s(t,["properties"]);S!=null&&r(e,["properties"],S);const E=s(t,["propertyOrdering"]);E!=null&&r(e,["propertyOrdering"],E);const _=s(t,["required"]);_!=null&&r(e,["required"],_);const A=s(t,["title"]);A!=null&&r(e,["title"],A);const R=s(t,["type"]);return R!=null&&r(e,["type"],R),e}function tC(t){const e={},n=s(t,["featureSelectionPreference"]);return n!=null&&r(e,["featureSelectionPreference"],n),e}function nC(t){const e={},n=s(t,["method"]);n!=null&&r(e,["method"],n);const i=s(t,["category"]);i!=null&&r(e,["category"],i);const o=s(t,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function iC(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&r(e,["description"],n);const i=s(t,["name"]);i!=null&&r(e,["name"],i);const o=s(t,["parameters"]);o!=null&&r(e,["parameters"],o);const a=s(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=s(t,["response"]);l!=null&&r(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function oC(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function sC(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],oC(n)),e}function rC(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function aC(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],rC(n)),e}function lC(){return{}}function uC(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function cC(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],uC(n));const i=s(t,["authType"]);i!=null&&r(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&r(e,["googleServiceAccountConfig"],o);const a=s(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=s(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function fC(t){const e={},n=s(t,["authConfig"]);return n!=null&&r(e,["authConfig"],cC(n)),e}function dC(){return{}}function hu(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>iC(p))),r(e,["functionDeclarations"],h)}const i=s(t,["retrieval"]);i!=null&&r(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],sC(o));const a=s(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],aC(a)),s(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],lC());const u=s(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],fC(u)),s(t,["urlContext"])!=null&&r(e,["urlContext"],dC());const c=s(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=s(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function hC(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function pC(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function mC(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],pC(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function gC(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],hC(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],mC(i)),e}function yC(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function vC(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],yC(n)),e}function TC(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&r(e,["voiceConfig"],vC(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function CC(t){const e={},n=s(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&r(e,["thinkingBudget"],i),e}function _C(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],vt(oe(o)));const a=s(e,["temperature"]);a!=null&&r(i,["temperature"],a);const l=s(e,["topP"]);l!=null&&r(i,["topP"],l);const u=s(e,["topK"]);u!=null&&r(i,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&r(i,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&r(i,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const h=s(e,["responseLogprobs"]);h!=null&&r(i,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&r(i,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&r(i,["frequencyPenalty"],g);const y=s(e,["seed"]);y!=null&&r(i,["seed"],y);const T=s(e,["responseMimeType"]);T!=null&&r(i,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&r(i,["responseSchema"],eC(bt(v)));const C=s(e,["responseJsonSchema"]);C!=null&&r(i,["responseJsonSchema"],C);const S=s(e,["routingConfig"]);S!=null&&r(i,["routingConfig"],S);const E=s(e,["modelSelectionConfig"]);E!=null&&r(i,["modelConfig"],tC(E));const _=s(e,["safetySettings"]);if(n!==void 0&&_!=null){let re=_;Array.isArray(re)&&(re=re.map(M=>nC(M))),r(n,["safetySettings"],re)}const A=s(e,["tools"]);if(n!==void 0&&A!=null){let re=gt(A);Array.isArray(re)&&(re=re.map(M=>hu(mt(M)))),r(n,["tools"],re)}const R=s(e,["toolConfig"]);n!==void 0&&R!=null&&r(n,["toolConfig"],gC(R));const D=s(e,["labels"]);n!==void 0&&D!=null&&r(n,["labels"],D);const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&r(n,["cachedContent"],Ae(t,w));const G=s(e,["responseModalities"]);G!=null&&r(i,["responseModalities"],G);const q=s(e,["mediaResolution"]);q!=null&&r(i,["mediaResolution"],q);const j=s(e,["speechConfig"]);j!=null&&r(i,["speechConfig"],TC(co(j)));const Ve=s(e,["audioTimestamp"]);Ve!=null&&r(i,["audioTimestamp"],Ve);const Le=s(e,["thinkingConfig"]);return Le!=null&&r(i,["thinkingConfig"],CC(Le)),i}function ta(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=fe(o);Array.isArray(l)&&(l=l.map(u=>vt(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["generationConfig"],_C(t,a,n)),n}function SC(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&r(e,["instances[]","task_type"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&r(e,["instances[]","title"],o);const a=s(t,["outputDimensionality"]);e!==void 0&&a!=null&&r(e,["parameters","outputDimensionality"],a);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&r(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&r(e,["parameters","autoTruncate"],u),n}function EC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);o!=null&&r(n,["instances[]","content"],zl(t,o));const a=s(e,["config"]);return a!=null&&r(n,["config"],SC(a,n)),n}function xC(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&r(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&r(e,["parameters","negativePrompt"],o);const a=s(t,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&r(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&r(e,["parameters","guidanceScale"],u);const f=s(t,["seed"]);e!==void 0&&f!=null&&r(e,["parameters","seed"],f);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&r(e,["parameters","safetySetting"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&r(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&r(e,["parameters","language"],m);const g=s(t,["outputMimeType"]);e!==void 0&&g!=null&&r(e,["parameters","outputOptions","mimeType"],g);const y=s(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&r(e,["parameters","outputOptions","compressionQuality"],y);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&r(e,["parameters","addWatermark"],T);const v=s(t,["enhancePrompt"]);return e!==void 0&&v!=null&&r(e,["parameters","enhancePrompt"],v),n}function AC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["config"]);return a!=null&&r(n,["config"],xC(a,n)),n}function Rn(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["gcsUri"],n);const i=s(t,["imageBytes"]);i!=null&&r(e,["bytesBase64Encoded"],Me(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function MC(t){const e={},n=s(t,["maskMode"]);n!=null&&r(e,["maskMode"],n);const i=s(t,["segmentationClasses"]);i!=null&&r(e,["maskClasses"],i);const o=s(t,["maskDilation"]);return o!=null&&r(e,["dilation"],o),e}function PC(t){const e={},n=s(t,["controlType"]);n!=null&&r(e,["controlType"],n);const i=s(t,["enableControlImageComputation"]);return i!=null&&r(e,["computeControl"],i),e}function IC(t){const e={},n=s(t,["styleDescription"]);return n!=null&&r(e,["styleDescription"],n),e}function wC(t){const e={},n=s(t,["subjectType"]);n!=null&&r(e,["subjectType"],n);const i=s(t,["subjectDescription"]);return i!=null&&r(e,["subjectDescription"],i),e}function RC(t){const e={},n=s(t,["referenceImage"]);n!=null&&r(e,["referenceImage"],Rn(n));const i=s(t,["referenceId"]);i!=null&&r(e,["referenceId"],i);const o=s(t,["referenceType"]);o!=null&&r(e,["referenceType"],o);const a=s(t,["maskImageConfig"]);a!=null&&r(e,["maskImageConfig"],MC(a));const l=s(t,["controlImageConfig"]);l!=null&&r(e,["controlImageConfig"],PC(l));const u=s(t,["styleImageConfig"]);u!=null&&r(e,["styleImageConfig"],IC(u));const f=s(t,["subjectImageConfig"]);return f!=null&&r(e,["subjectImageConfig"],wC(f)),e}function DC(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&r(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&r(e,["parameters","negativePrompt"],o);const a=s(t,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&r(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&r(e,["parameters","guidanceScale"],u);const f=s(t,["seed"]);e!==void 0&&f!=null&&r(e,["parameters","seed"],f);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&r(e,["parameters","safetySetting"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&r(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&r(e,["parameters","language"],m);const g=s(t,["outputMimeType"]);e!==void 0&&g!=null&&r(e,["parameters","outputOptions","mimeType"],g);const y=s(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&r(e,["parameters","outputOptions","compressionQuality"],y);const T=s(t,["editMode"]);e!==void 0&&T!=null&&r(e,["parameters","editMode"],T);const v=s(t,["baseSteps"]);return e!==void 0&&v!=null&&r(e,["parameters","editConfig","baseSteps"],v),n}function kC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>RC(f))),r(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&r(n,["config"],DC(l,n)),n}function NC(t,e){const n={},i=s(t,["includeRaiReason"]);e!==void 0&&i!=null&&r(e,["parameters","includeRaiReason"],i);const o=s(t,["outputMimeType"]);e!==void 0&&o!=null&&r(e,["parameters","outputOptions","mimeType"],o);const a=s(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&r(e,["parameters","outputOptions","compressionQuality"],a);const l=s(t,["enhanceInputImage"]);e!==void 0&&l!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],l);const u=s(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const f=s(t,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const c=s(t,["mode"]);return e!==void 0&&c!=null&&r(e,["parameters","mode"],c),n}function VC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["image"]);o!=null&&r(n,["instances[0]","image"],Rn(o));const a=s(e,["upscaleFactor"]);a!=null&&r(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=s(e,["config"]);return l!=null&&r(n,["config"],NC(l,n)),n}function LC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function FC(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&r(n,["_query","pageSize"],o);const a=s(e,["pageToken"]);n!==void 0&&a!=null&&r(n,["_query","pageToken"],a);const l=s(e,["filter"]);n!==void 0&&l!=null&&r(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],Ql(t,u)),i}function UC(t,e){const n={},i=s(e,["config"]);return i!=null&&r(n,["config"],FC(t,i,n)),n}function bC(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&r(e,["description"],o);const a=s(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&r(e,["defaultCheckpointId"],a),n}function BC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],bC(o,n)),n}function GC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function qC(t,e){const n={},i=s(t,["systemInstruction"]);e!==void 0&&i!=null&&r(e,["systemInstruction"],vt(oe(i)));const o=s(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>hu(u))),r(e,["tools"],l)}const a=s(t,["generationConfig"]);return e!==void 0&&a!=null&&r(e,["generationConfig"],a),n}function $C(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=fe(o);Array.isArray(l)&&(l=l.map(u=>vt(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["config"],qC(a,n)),n}function JC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=fe(o);Array.isArray(l)&&(l=l.map(u=>vt(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["config"],a),n}function HC(t){const e={},n=s(t,["uri"]);n!=null&&r(e,["gcsUri"],n);const i=s(t,["videoBytes"]);i!=null&&r(e,["bytesBase64Encoded"],Me(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function OC(t,e){const n={},i=s(t,["numberOfVideos"]);e!==void 0&&i!=null&&r(e,["parameters","sampleCount"],i);const o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const a=s(t,["fps"]);e!==void 0&&a!=null&&r(e,["parameters","fps"],a);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&r(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&r(e,["parameters","seed"],u);const f=s(t,["aspectRatio"]);e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f);const c=s(t,["resolution"]);e!==void 0&&c!=null&&r(e,["parameters","resolution"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const h=s(t,["pubsubTopic"]);e!==void 0&&h!=null&&r(e,["parameters","pubsubTopic"],h);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&r(e,["parameters","negativePrompt"],p);const m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&r(e,["parameters","enhancePrompt"],m);const g=s(t,["generateAudio"]);e!==void 0&&g!=null&&r(e,["parameters","generateAudio"],g);const y=s(t,["lastFrame"]);e!==void 0&&y!=null&&r(e,["instances[0]","lastFrame"],Rn(y));const T=s(t,["compressionQuality"]);return e!==void 0&&T!=null&&r(e,["parameters","compressionQuality"],T),n}function WC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["image"]);a!=null&&r(n,["instances[0]","image"],Rn(a));const l=s(e,["video"]);l!=null&&r(n,["instances[0]","video"],HC(l));const u=s(e,["config"]);return u!=null&&r(n,["config"],OC(u,n)),n}function KC(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function YC(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function zC(t){const e={},n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function ZC(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],KC(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],YC(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],zC(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function XC(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>ZC(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function QC(t){const e={},n=s(t,["citationSources"]);return n!=null&&r(e,["citations"],n),e}function jC(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function e_(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jC(o))),r(e,["urlMetadata"],i)}return e}function t_(t){const e={},n=s(t,["content"]);n!=null&&r(e,["content"],XC(n));const i=s(t,["citationMetadata"]);i!=null&&r(e,["citationMetadata"],QC(i));const o=s(t,["tokenCount"]);o!=null&&r(e,["tokenCount"],o);const a=s(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=s(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],e_(l));const u=s(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=s(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&r(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const h=s(t,["safetyRatings"]);return h!=null&&r(e,["safetyRatings"],h),e}function na(t){const e={},n=s(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>t_(u))),r(e,["candidates"],l)}const i=s(t,["modelVersion"]);i!=null&&r(e,["modelVersion"],i);const o=s(t,["promptFeedback"]);o!=null&&r(e,["promptFeedback"],o);const a=s(t,["usageMetadata"]);return a!=null&&r(e,["usageMetadata"],a),e}function n_(t){const e={},n=s(t,["values"]);return n!=null&&r(e,["values"],n),e}function i_(){return{}}function o_(t){const e={},n=s(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>n_(a))),r(e,["embeddings"],o)}return s(t,["metadata"])!=null&&r(e,["metadata"],i_()),e}function s_(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&r(e,["imageBytes"],Me(n));const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function pu(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&r(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&r(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&r(e,["contentType"],o),e}function r_(t){const e={},n=s(t,["_self"]);n!=null&&r(e,["image"],s_(n));const i=s(t,["raiFilteredReason"]);i!=null&&r(e,["raiFilteredReason"],i);const o=s(t,["_self"]);return o!=null&&r(e,["safetyAttributes"],pu(o)),e}function a_(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>r_(a))),r(e,["generatedImages"],o)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&r(e,["positivePromptSafetyAttributes"],pu(i)),e}function l_(t){const e={},n=s(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&r(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&r(e,["updateTime"],o),e}function Ai(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["version"]);a!=null&&r(e,["version"],a);const l=s(t,["_self"]);l!=null&&r(e,["tunedModelInfo"],l_(l));const u=s(t,["inputTokenLimit"]);u!=null&&r(e,["inputTokenLimit"],u);const f=s(t,["outputTokenLimit"]);f!=null&&r(e,["outputTokenLimit"],f);const c=s(t,["supportedGenerationMethods"]);return c!=null&&r(e,["supportedActions"],c),e}function u_(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["_self"]);if(i!=null){let o=jl(i);Array.isArray(o)&&(o=o.map(a=>Ai(a))),r(e,["models"],o)}return e}function c_(){return{}}function f_(t){const e={},n=s(t,["totalTokens"]);n!=null&&r(e,["totalTokens"],n);const i=s(t,["cachedContentTokenCount"]);return i!=null&&r(e,["cachedContentTokenCount"],i),e}function d_(t){const e={},n=s(t,["video","uri"]);n!=null&&r(e,["uri"],n);const i=s(t,["video","encodedVideo"]);i!=null&&r(e,["videoBytes"],Me(i));const o=s(t,["encoding"]);return o!=null&&r(e,["mimeType"],o),e}function h_(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],d_(n)),e}function p_(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>h_(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function m_(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response","generateVideoResponse"]);return l!=null&&r(e,["response"],p_(l)),e}function g_(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function y_(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function v_(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function T_(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],g_(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],y_(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],v_(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function C_(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>T_(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function __(t){const e={},n=s(t,["citations"]);return n!=null&&r(e,["citations"],n),e}function S_(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function E_(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>S_(o))),r(e,["urlMetadata"],i)}return e}function x_(t){const e={},n=s(t,["content"]);n!=null&&r(e,["content"],C_(n));const i=s(t,["citationMetadata"]);i!=null&&r(e,["citationMetadata"],__(i));const o=s(t,["finishMessage"]);o!=null&&r(e,["finishMessage"],o);const a=s(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=s(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],E_(l));const u=s(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=s(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&r(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const h=s(t,["safetyRatings"]);return h!=null&&r(e,["safetyRatings"],h),e}function ia(t){const e={},n=s(t,["candidates"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>x_(c))),r(e,["candidates"],f)}const i=s(t,["createTime"]);i!=null&&r(e,["createTime"],i);const o=s(t,["responseId"]);o!=null&&r(e,["responseId"],o);const a=s(t,["modelVersion"]);a!=null&&r(e,["modelVersion"],a);const l=s(t,["promptFeedback"]);l!=null&&r(e,["promptFeedback"],l);const u=s(t,["usageMetadata"]);return u!=null&&r(e,["usageMetadata"],u),e}function A_(t){const e={},n=s(t,["truncated"]);n!=null&&r(e,["truncated"],n);const i=s(t,["token_count"]);return i!=null&&r(e,["tokenCount"],i),e}function M_(t){const e={},n=s(t,["values"]);n!=null&&r(e,["values"],n);const i=s(t,["statistics"]);return i!=null&&r(e,["statistics"],A_(i)),e}function P_(t){const e={},n=s(t,["billableCharacterCount"]);return n!=null&&r(e,["billableCharacterCount"],n),e}function I_(t){const e={},n=s(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>M_(a))),r(e,["embeddings"],o)}const i=s(t,["metadata"]);return i!=null&&r(e,["metadata"],P_(i)),e}function w_(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["gcsUri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&r(e,["imageBytes"],Me(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function mu(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&r(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&r(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&r(e,["contentType"],o),e}function ho(t){const e={},n=s(t,["_self"]);n!=null&&r(e,["image"],w_(n));const i=s(t,["raiFilteredReason"]);i!=null&&r(e,["raiFilteredReason"],i);const o=s(t,["_self"]);o!=null&&r(e,["safetyAttributes"],mu(o));const a=s(t,["prompt"]);return a!=null&&r(e,["enhancedPrompt"],a),e}function R_(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>ho(a))),r(e,["generatedImages"],o)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&r(e,["positivePromptSafetyAttributes"],mu(i)),e}function D_(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ho(o))),r(e,["generatedImages"],i)}return e}function k_(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ho(o))),r(e,["generatedImages"],i)}return e}function N_(t){const e={},n=s(t,["endpoint"]);n!=null&&r(e,["name"],n);const i=s(t,["deployedModelId"]);return i!=null&&r(e,["deployedModelId"],i),e}function V_(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&r(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&r(e,["updateTime"],o),e}function L_(t){const e={},n=s(t,["checkpointId"]);n!=null&&r(e,["checkpointId"],n);const i=s(t,["epoch"]);i!=null&&r(e,["epoch"],i);const o=s(t,["step"]);return o!=null&&r(e,["step"],o),e}function Mi(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["versionId"]);a!=null&&r(e,["version"],a);const l=s(t,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>N_(p))),r(e,["endpoints"],h)}const u=s(t,["labels"]);u!=null&&r(e,["labels"],u);const f=s(t,["_self"]);f!=null&&r(e,["tunedModelInfo"],V_(f));const c=s(t,["defaultCheckpointId"]);c!=null&&r(e,["defaultCheckpointId"],c);const d=s(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>L_(p))),r(e,["checkpoints"],h)}return e}function F_(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["_self"]);if(i!=null){let o=jl(i);Array.isArray(o)&&(o=o.map(a=>Mi(a))),r(e,["models"],o)}return e}function U_(){return{}}function b_(t){const e={},n=s(t,["totalTokens"]);return n!=null&&r(e,["totalTokens"],n),e}function B_(t){const e={},n=s(t,["tokensInfo"]);return n!=null&&r(e,["tokensInfo"],n),e}function G_(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&r(e,["videoBytes"],Me(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function q_(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],G_(n)),e}function $_(t){const e={},n=s(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>q_(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function J_(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response"]);return l!=null&&r(e,["response"],$_(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H_="Content-Type",O_="X-Server-Timeout",W_="User-Agent",Pi="x-goog-api-client",K_="1.8.0",Y_=`google-genai-sdk/${K_}`,z_="v1beta1",Z_="v1beta",oa=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class X_{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:z_,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Z_,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))o.searchParams.append(l,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&Q_(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await sa(o),new Ti(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await sa(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return ot(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield K(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(f);try{const h=JSON.parse(c);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),m=p.status,g=p.code,y=`got status: ${m}. ${JSON.stringify(h)}`;if(g>=400&&g<600)throw new In({message:y,status:g})}}catch(h){if(h.name==="ApiError")throw h}l+=c;let d=l.match(oa);for(;d;){const h=d[1];try{const p=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield K(new Ti(p)),l=l.slice(d[0].length),d=l.match(oa)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Y_+" "+this.clientOptions.userAgentExtra;return e[W_]=n,e[Pi]=n,e[H_]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(O_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);o.sizeBytes=String(l.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const f=await this.fetchUploadUrl(o,n);return a.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},l=await this.request({path:V("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function sa(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new In({message:o,status:n}):new Error(o)}}function Q_(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,l){const u=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const c=l[f],d=u[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?u[f]=i(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),u[f]=c)}return u}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j_="mcp_used/unknown";function gu(t){for(const e of t)if(po(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function yu(t){var e;const n=(e=t[Pi])!==null&&e!==void 0?e:"";t[Pi]=(n+` ${j_}`).trimStart()}function eS(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>po(o)))!==null&&i!==void 0?i:!1}function tS(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!po(o)))!==null&&i!==void 0?i:!1}function po(t){return t!==null&&typeof t=="object"&&t instanceof mo}function nS(t,e=100){return ot(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield K(t.listTools({cursor:i}));for(const l of a.tools)yield yield K(l),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class mo{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new mo(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},l=[];for(const d of this.mcpClients)try{for(var u=!0,f=(n=void 0,Dt(nS(d))),c;c=await f.next(),e=c.done,!e;u=!0){o=c.value,u=!1;const h=o;l.push(h);const p=h.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=d}}catch(h){n={error:h}}finally{try{!u&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),zp(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iS(t,e,n){const i=new bp;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const a=fT(o);Object.assign(i,a),e(i)}class oS{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=aS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const d=new Promise(S=>{c=S}),h=e.callbacks,p=function(){c({})},m=this.apiClient,g={onopen:p,onmessage:S=>{iS(m,h.onmessage,S)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(S){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(S){}},y=this.webSocketFactory.create(f,rS(l),g);y.connect(),await d;const T=O(this.apiClient,e.model),v=cu({model:T}),C=xi({setup:v});return y.send(JSON.stringify(C)),new sS(y,this.apiClient)}}class sS{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Av(e),i=fu(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Mv(e),i=xi(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=xi({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(nt.PLAY)}pause(){this.sendPlaybackControl(nt.PAUSE)}stop(){this.sendPlaybackControl(nt.STOP)}resetContext(){this.sendPlaybackControl(nt.RESET_CONTEXT)}close(){this.conn.close()}}function rS(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function aS(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uS(t,e,n){const i=new Up;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const l=nT(a);Object.assign(i,l)}else{const l=tT(a);Object.assign(i,l)}e(i)}class cS{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new oS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,l,u;const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const h=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&gu(e.config.tools)&&yu(h);const p=pS(h);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const w=this.apiClient.getApiKey();let G="BidiGenerateContent",q="key";w!=null&&w.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),G="BidiGenerateContentConstrained",q="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${G}?${q}=${w}`}let m=()=>{};const g=new Promise(w=>{m=w}),y=e.callbacks,T=function(){var w;(w=y==null?void 0:y.onopen)===null||w===void 0||w.call(y),m({})},v=this.apiClient,C={onopen:T,onmessage:w=>{uS(v,y.onmessage,w)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(w){},onclose:(i=y==null?void 0:y.onclose)!==null&&i!==void 0?i:function(w){}},S=this.webSocketFactory.create(d,hS(p),C);S.connect(),await g;let E=O(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const w=this.apiClient.getProject(),G=this.apiClient.getLocation();E=`projects/${w}/locations/${G}/`+E}let _={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Tn.AUDIO]}:e.config.responseModalities=[Tn.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],R=[];for(const w of A)if(this.isCallableTool(w)){const G=w;R.push(await G.tool())}else R.push(w);R.length>0&&(e.config.tools=R);const D={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=vv(this.apiClient,D):_=yv(this.apiClient,D),delete _.config,S.send(JSON.stringify(_)),new dS(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const fS={turnComplete:!0};class dS{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=fe(n.turns),e.isVertexAI()?i=i.map(o=>vt(o)):i=i.map(o=>wn(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(lS)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},fS),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xv(e)}:n={realtimeInput:Ev(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hS(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function pS(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ra=10;function aa(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(sn(l)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function sn(t){return"callTool"in t&&typeof t.callTool=="function"}function la(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mS extends Ye{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,l,u;const f=await this.processParamsForMcpUsage(n);if(!eS(n)||aa(n.config))return await this.generateContentInternal(f);if(tS(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const h=fe(f.contents),p=(a=(o=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:ra;let m=0;for(;m<p&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const g=c.candidates[0].content,y=[];for(const T of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(sn(T)){const C=await T.callTool(c.functionCalls);y.push(...C)}m++,d={role:"user",parts:y},f.contents=fe(f.contents),f.contents.push(g),f.contents.push(d),la(f.config)&&(h.push(g),h.push(d))}return la(f.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{if(aa(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const l=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a}:u={generatedImages:l},u}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Jt(We.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>sn(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&gu(e.config.tools)){const f=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),yu(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(sn(l)){const u=l,f=await u.tool();for(const c of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,u)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:ra;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return function(c,d,h){var p,m;return ot(this,arguments,function*(){for(var g,y,T,v;u<a;){l&&(u++,l=!1);const _=yield K(c.processParamsForMcpUsage(h)),A=yield K(c.generateContentStreamInternal(_)),R=[],D=[];try{for(var C=!0,S=(y=void 0,Dt(A)),E;E=yield K(S.next()),g=E.done,!g;C=!0){v=E.value,C=!1;const w=v;if(yield yield K(w),w.candidates&&(!((p=w.candidates[0])===null||p===void 0)&&p.content)){D.push(w.candidates[0].content);for(const G of(m=w.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<a&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(G.functionCall.name)){const q=yield K(d.get(G.functionCall.name).callTool([G.functionCall]));R.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(w){y={error:w}}finally{try{!C&&!g&&(T=S.return)&&(yield K(T.call(S)))}finally{if(y)throw y.error}}if(R.length>0){l=!0;const w=new _t;w.candidates=[{content:{role:"user",parts:R}}],yield yield K(w);const G=[];G.push(...D),G.push({role:"user",parts:R});const q=fe(h.contents).concat(G);h.contents=q}else break}})}(this,f,e)}async generateContentInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ta(this.apiClient,e);return u=V("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=ia(d),p=new _t;return Object.assign(p,h),p})}else{const c=ea(this.apiClient,e);return u=V("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=na(d),p=new _t;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ta(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return ot(this,arguments,function*(){var p,m,g,y;try{for(var T=!0,v=Dt(h),C;C=yield K(v.next()),p=C.done,!p;T=!0){y=C.value,T=!1;const E=ia(yield K(y.json())),_=new _t;Object.assign(_,E),yield yield K(_)}}catch(S){m={error:S}}finally{try{!T&&!p&&(g=v.return)&&(yield K(g.call(v)))}finally{if(m)throw m.error}}})})}else{const c=ea(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(h){return ot(this,arguments,function*(){var p,m,g,y;try{for(var T=!0,v=Dt(h),C;C=yield K(v.next()),p=C.done,!p;T=!0){y=C.value,T=!1;const E=na(yield K(y.json())),_=new _t;Object.assign(_,E),yield yield K(_)}}catch(S){m={error:S}}finally{try{!T&&!p&&(g=v.return)&&(yield K(g.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=EC(this.apiClient,e);return u=V("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=I_(d),p=new Nr;return Object.assign(p,h),p})}else{const c=FT(this.apiClient,e);return u=V("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=o_(d),p=new Nr;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=AC(this.apiClient,e);return u=V("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=R_(d),p=new Vr;return Object.assign(p,h),p})}else{const c=bT(this.apiClient,e);return u=V("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=a_(d),p=new Vr;return Object.assign(p,h),p})}}async editImageInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=kC(this.apiClient,e);return a=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=D_(f),d=new Dp;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=VC(this.apiClient,e);return a=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=k_(f),d=new kp;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=LC(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Mi(d))}else{const c=BT(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Ai(d))}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=UC(this.apiClient,e);return u=V("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=F_(d),p=new Lr;return Object.assign(p,h),p})}else{const c=qT(this.apiClient,e);return u=V("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=u_(d),p=new Lr;return Object.assign(p,h),p})}}async update(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=BC(this.apiClient,e);return u=V("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Mi(d))}else{const c=JT(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Ai(d))}}async delete(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=GC(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(()=>{const d=U_(),h=new Fr;return Object.assign(h,d),h})}else{const c=HT(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(()=>{const d=c_(),h=new Fr;return Object.assign(h,d),h})}}async countTokens(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=$C(this.apiClient,e);return u=V("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=b_(d),p=new Ur;return Object.assign(p,h),p})}else{const c=WT(this.apiClient,e);return u=V("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=f_(d),p=new Ur;return Object.assign(p,h),p})}}async computeTokens(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=JC(this.apiClient,e);return a=V("{model}:computeTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=B_(f),d=new Np;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=WC(this.apiClient,e);return u=V("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>J_(d))}else{const c=zT(this.apiClient,e);return u=V("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>m_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gS(t){const e={},n=s(t,["operationName"]);n!=null&&r(e,["_url","operationName"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function yS(t){const e={},n=s(t,["operationName"]);n!=null&&r(e,["_url","operationName"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function vS(t){const e={},n=s(t,["operationName"]);n!=null&&r(e,["operationName"],n);const i=s(t,["resourceName"]);i!=null&&r(e,["_url","resourceName"],i);const o=s(t,["config"]);return o!=null&&r(e,["config"],o),e}function TS(t){const e={},n=s(t,["video","uri"]);n!=null&&r(e,["uri"],n);const i=s(t,["video","encodedVideo"]);i!=null&&r(e,["videoBytes"],Me(i));const o=s(t,["encoding"]);return o!=null&&r(e,["mimeType"],o),e}function CS(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],TS(n)),e}function _S(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>CS(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function SS(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response","generateVideoResponse"]);return l!=null&&r(e,["response"],_S(l)),e}function ES(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&r(e,["videoBytes"],Me(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function xS(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],ES(n)),e}function AS(t){const e={},n=s(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>xS(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function ua(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response"]);return l!=null&&r(e,["response"],AS(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MS extends Ye{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=yS(e);return u=V("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>ua(d))}else{const c=gS(e);return u=V("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>SS(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=vS(e);return a=V("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>ua(f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function vu(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],PS(n)),e}function IS(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],vu(i)),e}function wS(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>IS(o))),r(e,["speakerVoiceConfigs"],i)}return e}function RS(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],vu(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],wS(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function DS(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function kS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function NS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function VS(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],DS(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],kS(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],NS(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function LS(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>VS(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function FS(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function US(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function bS(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],US(n)),e}function BS(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function GS(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],BS(n)),e}function qS(){return{}}function $S(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>FS(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],bS(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],GS(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],qS());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function JS(t){const e={},n=s(t,["handle"]);if(n!=null&&r(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ca(){return{}}function HS(t){const e={},n=s(t,["disabled"]);n!=null&&r(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&r(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&r(e,["endOfSpeechSensitivity"],o);const a=s(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=s(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function OS(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],HS(n));const i=s(t,["activityHandling"]);i!=null&&r(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&r(e,["turnCoverage"],o),e}function WS(t){const e={},n=s(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function KS(t){const e={},n=s(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&r(e,["slidingWindow"],WS(i)),e}function YS(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function zS(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&r(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig","responseModalities"],o);const a=s(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=s(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","speechConfig"],RS(fo(h)));const p=s(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],p);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&r(e,["setup","systemInstruction"],LS(oe(m)));const g=s(t,["tools"]);if(e!==void 0&&g!=null){let _=gt(g);Array.isArray(_)&&(_=_.map(A=>$S(mt(A)))),r(e,["setup","tools"],_)}const y=s(t,["sessionResumption"]);e!==void 0&&y!=null&&r(e,["setup","sessionResumption"],JS(y));const T=s(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&r(e,["setup","inputAudioTranscription"],ca());const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&r(e,["setup","outputAudioTranscription"],ca());const C=s(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&r(e,["setup","realtimeInputConfig"],OS(C));const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&r(e,["setup","contextWindowCompression"],KS(S));const E=s(t,["proactivity"]);return e!==void 0&&E!=null&&r(e,["setup","proactivity"],YS(E)),n}function ZS(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["setup","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],zS(o,n)),n}function XS(t,e,n){const i={},o=s(e,["expireTime"]);n!==void 0&&o!=null&&r(n,["expireTime"],o);const a=s(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&r(n,["newSessionExpireTime"],a);const l=s(e,["uses"]);n!==void 0&&l!=null&&r(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&r(n,["bidiGenerateContentSetup"],ZS(t,u));const f=s(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&r(n,["fieldMask"],f),i}function QS(t,e){const n={},i=s(e,["config"]);return i!=null&&r(n,["config"],XS(t,i,n)),n}function jS(t){const e={},n=s(t,["name"]);return n!=null&&r(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function tE(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=eE(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>l.includes(c)?`generationConfig.${c}`:c));const f=[];a&&f.push(a),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class nE extends Ye{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=QS(this.apiClient,e);a=V("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=tE(u,e.config);return o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>jS(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iE(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function oE(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&r(e,["_query","pageToken"],o);const a=s(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function sE(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],oE(n,e)),e}function rE(t){const e={},n=s(t,["textInput"]);n!=null&&r(e,["textInput"],n);const i=s(t,["output"]);return i!=null&&r(e,["output"],i),e}function aE(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=s(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rE(o))),r(e,["examples","examples"],i)}return e}function lE(t,e){const n={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&r(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=s(t,["epochCount"]);e!==void 0&&o!=null&&r(e,["tuningTask","hyperparameters","epochCount"],o);const a=s(t,["learningRateMultiplier"]);if(a!=null&&r(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=s(t,["batchSize"]);e!==void 0&&l!=null&&r(e,["tuningTask","hyperparameters","batchSize"],l);const u=s(t,["learningRate"]);return e!==void 0&&u!=null&&r(e,["tuningTask","hyperparameters","learningRate"],u),n}function uE(t){const e={},n=s(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["trainingDataset"]);i!=null&&r(e,["tuningTask","trainingData"],aE(i));const o=s(t,["config"]);return o!=null&&r(e,["config"],lE(o,e)),e}function cE(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function fE(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&r(e,["_query","pageToken"],o);const a=s(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function dE(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],fE(n,e)),e}function hE(t,e){const n={},i=s(t,["gcsUri"]);e!==void 0&&i!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=s(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],o),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function pE(t,e){const n={},i=s(t,["gcsUri"]);i!=null&&r(n,["validationDatasetUri"],i);const o=s(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function mE(t,e){const n={},i=s(t,["validationDataset"]);e!==void 0&&i!=null&&r(e,["supervisedTuningSpec"],pE(i,n));const o=s(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&r(e,["tunedModelDisplayName"],o);const a=s(t,["description"]);e!==void 0&&a!=null&&r(e,["description"],a);const l=s(t,["epochCount"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const u=s(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=s(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=s(t,["adapterSize"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],c),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function gE(t){const e={},n=s(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["trainingDataset"]);i!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],hE(i,e));const o=s(t,["config"]);return o!=null&&r(e,["config"],mE(o,e)),e}function yE(t){const e={},n=s(t,["name"]);n!=null&&r(e,["model"],n);const i=s(t,["name"]);return i!=null&&r(e,["endpoint"],i),e}function Tu(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["state"]);i!=null&&r(e,["state"],Zl(i));const o=s(t,["createTime"]);o!=null&&r(e,["createTime"],o);const a=s(t,["tuningTask","startTime"]);a!=null&&r(e,["startTime"],a);const l=s(t,["tuningTask","completeTime"]);l!=null&&r(e,["endTime"],l);const u=s(t,["updateTime"]);u!=null&&r(e,["updateTime"],u);const f=s(t,["description"]);f!=null&&r(e,["description"],f);const c=s(t,["baseModel"]);c!=null&&r(e,["baseModel"],c);const d=s(t,["_self"]);d!=null&&r(e,["tunedModel"],yE(d));const h=s(t,["distillationSpec"]);h!=null&&r(e,["distillationSpec"],h);const p=s(t,["experiment"]);p!=null&&r(e,["experiment"],p);const m=s(t,["labels"]);m!=null&&r(e,["labels"],m);const g=s(t,["pipelineJob"]);g!=null&&r(e,["pipelineJob"],g);const y=s(t,["satisfiesPzi"]);y!=null&&r(e,["satisfiesPzi"],y);const T=s(t,["satisfiesPzs"]);T!=null&&r(e,["satisfiesPzs"],T);const v=s(t,["serviceAccount"]);v!=null&&r(e,["serviceAccount"],v);const C=s(t,["tunedModelDisplayName"]);return C!=null&&r(e,["tunedModelDisplayName"],C),e}function vE(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Tu(a))),r(e,["tuningJobs"],o)}return e}function TE(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);return a!=null&&r(e,["error"],a),e}function CE(t){const e={},n=s(t,["checkpointId"]);n!=null&&r(e,["checkpointId"],n);const i=s(t,["epoch"]);i!=null&&r(e,["epoch"],i);const o=s(t,["step"]);o!=null&&r(e,["step"],o);const a=s(t,["endpoint"]);return a!=null&&r(e,["endpoint"],a),e}function _E(t){const e={},n=s(t,["model"]);n!=null&&r(e,["model"],n);const i=s(t,["endpoint"]);i!=null&&r(e,["endpoint"],i);const o=s(t,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>CE(l))),r(e,["checkpoints"],a)}return e}function Ii(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["state"]);i!=null&&r(e,["state"],Zl(i));const o=s(t,["createTime"]);o!=null&&r(e,["createTime"],o);const a=s(t,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(t,["endTime"]);l!=null&&r(e,["endTime"],l);const u=s(t,["updateTime"]);u!=null&&r(e,["updateTime"],u);const f=s(t,["error"]);f!=null&&r(e,["error"],f);const c=s(t,["description"]);c!=null&&r(e,["description"],c);const d=s(t,["baseModel"]);d!=null&&r(e,["baseModel"],d);const h=s(t,["tunedModel"]);h!=null&&r(e,["tunedModel"],_E(h));const p=s(t,["supervisedTuningSpec"]);p!=null&&r(e,["supervisedTuningSpec"],p);const m=s(t,["tuningDataStats"]);m!=null&&r(e,["tuningDataStats"],m);const g=s(t,["encryptionSpec"]);g!=null&&r(e,["encryptionSpec"],g);const y=s(t,["partnerModelTuningSpec"]);y!=null&&r(e,["partnerModelTuningSpec"],y);const T=s(t,["distillationSpec"]);T!=null&&r(e,["distillationSpec"],T);const v=s(t,["experiment"]);v!=null&&r(e,["experiment"],v);const C=s(t,["labels"]);C!=null&&r(e,["labels"],C);const S=s(t,["pipelineJob"]);S!=null&&r(e,["pipelineJob"],S);const E=s(t,["satisfiesPzi"]);E!=null&&r(e,["satisfiesPzi"],E);const _=s(t,["satisfiesPzs"]);_!=null&&r(e,["satisfiesPzs"],_);const A=s(t,["serviceAccount"]);A!=null&&r(e,["serviceAccount"],A);const R=s(t,["tunedModelDisplayName"]);return R!=null&&r(e,["tunedModelDisplayName"],R),e}function SE(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ii(a))),r(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EE extends Ye{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Jt(We.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:vi.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=cE(e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Ii(d))}else{const c=iE(e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Tu(d))}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=dE(e);return u=V("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=SE(d),p=new br;return Object.assign(p,h),p})}else{const c=sE(e);return u=V("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=vE(d),p=new br;return Object.assign(p,h),p})}}async tuneInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=gE(e);return a=V("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>Ii(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uE(e);return a=V("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>TE(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xE{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const AE=1024*1024*8,ME=3,PE=1e3,IE=2,Yn="x-goog-upload-status";async function wE(t,e,n){var i,o,a;let l=0,u=0,f=new Ti(new Response),c="upload";for(l=t.size;u<l;){const h=Math.min(AE,l-u),p=t.slice(u,u+h);u+h>=l&&(c+=", finalize");let m=0,g=PE;for(;m<ME&&(f=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[Yn]));)m++,await DE(g),g=g*IE;if(u+=h,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[Yn])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[Yn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function RE(t){return{size:t.size,type:t.type}}function DE(t){return new Promise(e=>setTimeout(e,t))}class kE{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wE(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NE{create(e,n,i){return new VE(e,n,i)}}class VE{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fa="x-goog-api-key";class LE{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(fa)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fa,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FE="gl-node/";class $E{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=Rp(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new LE(this.apiKey);this.apiClient=new X_({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:FE+"web",uploader:new kE,downloader:new xE}),this.models=new mS(this.apiClient),this.live=new cS(this.apiClient,o,new NE),this.batches=new og(this.apiClient),this.chats=new ly(this.models,this.apiClient),this.caches=new sy(this.apiClient),this.files=new _y(this.apiClient),this.operations=new MS(this.apiClient),this.authTokens=new nE(this.apiClient),this.tunings=new EE(this.apiClient)}}export{BE as A,$E as G,qE as m,bE as r};
